---
title: Tipos
description: "Referência da API para tipos TypeScript em Moonlink.js"
icon: 'lucide:code-2'
authors:
  - avatar: https://www.npmjs.com/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9hNmE5NDVhYjJiNzk1MjcyNzVjN2IwMWEyNWM1YzQ2NT9zaXplPTQ5NiZkZWZhdWx0PXJldHJvIn0.5hP6oyShhR-UWUi6KF-lA0cWmE_BJjvIFAwkYCGEZNo
    name: Lucas Morais Rodrigues
    username: 1Lucas1apk
    to: https://github.com/1Lucas1apk
    target: _blank
---

# Definições de Tipo

Moonlink.js usa vários tipos TypeScript para definir valores específicos e garantir a consistência em toda a biblioteca. Esses tipos são essenciais para o desenvolvimento com Moonlink.js, fornecendo validação de valor e documentação.

::alert{type="info" icon="lucide:info"}
Todos os tipos Moonlink.js estão disponíveis através do módulo principal e podem ser importados diretamente.
::

## Tipos de Pesquisa

### TSearchSources

::field{name="TSearchSources" type="type"}
Define as fontes de pesquisa suportadas.
::

```typescript
export enum SearchSources {
  YouTube = "ytsearch",
  YouTubeMusic = "ytmsearch",
  SoundCloud = "scsearch",
  Local = "local",
}

export enum NodeState {
  CONNECTING = "CONNECTING",
  CONNECTED = "CONNECTED",
  READY = "READY",
  RESUMING = "RESUMING",
  RESUMED = "RESUMED",
  DISCONNECTED = "DISCONNECTED",
  DESTROYED = "DESTROYED",
}

export type TNativeSearchSources = "youtube" | "youtubemusic" | "soundcloud" | "local";

export type TLavaSrcSearchSources =
  | "spsearch"
  | "sprec"
  | "amsearch"
  | "dzsearch"
  | "dzisrc"
  | "dzrec"
  | "ymsearch"
  | "ymrec"
  | "ftts"
  | "vksearch"
  | "vkrec"
  | "tdsearch"
  | "tdrec"
  | "qbsearch"
  | "qbisrc"
  | "qbrec"
  | "phsearch"
  | "speak"
  | "mixcloud"
  | "ocremix"
  | "clypit"
  | "reddit"
  | "getyarn"
  | "tiktok"
  | "soundgasm"
  | "pixeldrain"
  | "streamdeck";

export type TDirectSources =
  | "mixcloud"
  | "ocremix"
  | "clypit"
  | "reddit"
  | "getyarn"
  | "tiktok"
  | "soundgasm"
  | "pixeldrain"
  | "streamdeck";

export type TSearchSources = TNativeSearchSources | TLavaSrcSearchSources | TDirectSources | string;
```

::accordion{default-value="tsearchsources-description" collapsible}
  ::accordion-item{value="tsearchsources-description"}
  #title
  Descrição

  #content
  Este tipo define as fontes de pesquisa suportadas pelo Moonlink.js. As fontes padrão são "youtube", "youtubemusic" e "soundcloud", mas também pode ser qualquer string para fontes personalizadas.
  ::
::

**Exemplo**

```typescript
// Pesquisar no YouTube
const result = await manager.search({
  query: "Never Gonna Give You Up",
  source: "youtube"
});

// Pesquisar no SoundCloud
const result = await manager.search({
  query: "Never Gonna Give You Up",
  source: "soundcloud"
});

// Pesquisar no YouTube Music
const result = await manager.search({
  query: "Never Gonna Give You Up",
  source: "youtubemusic"
});
```

## Tipos de Resultado

### TLoadResultType

::field{name="TLoadResultType" type="type"}
Define os tipos de resultados de carregamento.
::

```typescript
type TLoadResultType =
  | "track"
  | "playlist"
  | "search"
  | "empty"
  | "error"
  | TLoadResultNodeLinkType;
```

::accordion{default-value="tloadresulttype-description" collapsible}
  ::accordion-item{value="tloadresulttype-description"}
  #title
  Descrição

  #content
  Este tipo define os possíveis tipos de resultado ao carregar faixas. Os valores padrão são:

  | Valor | Descrição |
  |-------|-------------|
  | `track` | Uma única faixa foi carregada. |
  | `playlist` | Uma playlist foi carregada. |
  | `search` | Resultados da pesquisa foram carregados. |
  | `empty` | Nenhum resultado foi encontrado. |
  | `error` | Ocorreu um erro durante o carregamento. |

  Além disso, o tipo também inclui os valores de `TLoadResultNodeLinkType` para suporte ao NodeLink.
  ::
::

### TLoadResultNodeLinkType

::field{name="TLoadResultNodeLinkType" type="type"}
Define os tipos de resultado de carregamento específicos do NodeLink.
::

```typescript
type TLoadResultNodeLinkType = 
  | "short"
  | "album"
  | "artist"
  | "playlist"
  | "station"
  | "podcast"
  | "show";
```

::accordion{default-value="tloadresultnodelinktype-description" collapsible}
  ::accordion-item{value="tloadresultnodelinktype-description"}
  #title
  Descrição

  #content
  Este tipo define os possíveis tipos de resultado ao carregar faixas usando o NodeLink. Os valores são:

  | Valor | Descrição |
  |-------|-------------|
  | `short` | Um vídeo curto foi carregado. |
  | `album` | Um álbum foi carregado. |
  | `artist` | Um artista foi carregado. |
  | `playlist` | Uma playlist foi carregada. |
  | `station` | Uma estação foi carregada. |
  | `podcast` | Um podcast foi carregado. |
  | `show` | Um show foi carregado. |
  ::
::

## Tipos de Node

### TSortTypeNode

::field{name="TSortTypeNode" type="type"}
Define os critérios de ordenação para nodes.
::

```typescript
type TSortTypeNode =
  | "players"
  | "playingPlayers"
  | "memory"
  | "cpuLavalink"
  | "cpuSystem"
  | "uptime"
  | "random";
```

::accordion{default-value="tsorttypenode-description" collapsible}
  ::accordion-item{value="tsorttypenode-description"}
  #title
  Descrição

  #content
  Este tipo define os possíveis critérios de ordenação para nodes. Os valores são:

  | Valor | Descrição |
  |-------|-------------|
  | `players` | Ordenar pelo número de players. |
  | `playingPlayers` | Ordenar pelo número de players em reprodução. |
  | `memory` | Ordenar pelo uso de memória. |
  | `cpuLavalink` | Ordenar pelo uso da CPU do Lavalink. |
  | `cpuSystem` | Ordenar pelo uso da CPU do sistema. |
  | `uptime` | Ordenar pelo tempo de atividade. |
  | `random` | Ordenar aleatoriamente. |
  ::
::

**Exemplo**

```typescript
// Configurar o Manager para ordenar nodes por uso da CPU
const manager = new Manager({
  nodes: [
    // ... configurações do node
  ],
  options: {
    sortTypeNode: "cpuLavalink"
  }
});
```

## Tipos de Player

### TPlayerLoop

::field{name="TPlayerLoop" type="type"}
Define os modos de loop para players.
::

```typescript
type TPlayerLoop = "off" | "track" | "queue";
```

::accordion{default-value="tplayerloop-description" collapsible}
  ::accordion-item{value="tplayerloop-description"}
  #title
  Descrição

  #content
  Este tipo define os possíveis modos de loop para players. Os valores são:

  | Valor | Descrição |
  |-------|-------------|
  | `off` | Loop desativado. |
  | `track` | Loop de faixa única. |
  | `queue` | Loop de fila. |
  ::
::

**Exemplo**

```typescript
// Configurar um player com loop de faixa
const player = manager.createPlayer({
  guildId: "123456789012345678",
  voiceChannelId: "123456789012345678",
  textChannelId: "123456789012345678",
  loop: "track"
});

// Mudar o modo de loop
player.setLoop("queue");
```

### TTrackEndType

::field{name="TTrackEndType" type="type"}
Define os tipos de término de faixa.
::

```typescript
type TTrackEndType =
  | "queueEnd"
  | "loadFailed"
  | "stopped"
  | "replaced"
  | "cleanup"
  | "finished";
```

::accordion{default-value="ttrackendtype-description" collapsible}
  ::accordion-item{value="ttrackendtype-description"}
  #title
  Descrição

  #content
  Este tipo define as possíveis razões para o término de uma faixa. Os valores são:

  | Valor | Descrição |
  |-------|-------------|
  | `queueEnd` | A fila terminou. |
  | `loadFailed` | Falha ao carregar a faixa. |
  | `stopped` | A reprodução foi parada. |
  | `replaced` | A faixa foi substituída. |
  | `cleanup` | Limpeza do player. |
  | `finished` | A faixa terminou normalmente. |
  ::
::

**Exemplo**

```typescript
// Ouvir o evento de término de faixa
manager.on("trackEnd", (player, track, reason) => {
  if (reason === "finished") {
    console.log(`A faixa ${track.title} terminou normalmente.`);
  } else if (reason === "stopped") {
    console.log(`A faixa ${track.title} foi parada.`);
  }
});
```

## Tipos de Faixa

### TPartialTrackProperties

::field{name="TPartialTrackProperties" type="type"}
Define as propriedades que podem ser carregadas parcialmente para faixas.
::

```typescript
type TPartialTrackProperties = 
  | "url"
  | "duration"
  | "position"
  | "identifier"
  | "isSeekable"
  | "isStream"
  | "artworkUrl"
  | "isrc"
  | "sourceName";
```

::accordion{default-value="tpartialtrackproperties-description" collapsible}
  ::accordion-item{value="tpartialtrackproperties-description"}
  #title
  Descrição

  #content
  Este tipo define as propriedades da faixa que podem ser carregadas parcialmente ao usar a opção partialTrack. As propriedades disponíveis são:

  | Valor | Descrição |
  |-------|-------------|
  | `url` | URL da faixa |
  | `duration` | Duração da faixa |
  | `position` | Posição da faixa |
  | `identifier` | Identificador único da faixa |
  | `isSeekable` | Se a faixa permite busca |
  | `isStream` | Se a faixa é um stream ao vivo |
  | `artworkUrl` | URL da arte da faixa |
  | `isrc` | Código ISRC da faixa |
  | `sourceName` | Nome da fonte da faixa |
  ::
::

::card{icon="lucide:settings"}
#title
Carregamento Seletivo de Propriedades

#description
A opção partialTrack permite especificar quais propriedades da faixa carregar inicialmente.

#content
```typescript
// Configurar o Manager para carregar apenas propriedades de faixa específicas
const manager = new Manager({
  nodes: [
    // ... configurações do node
  ],
  options: {
    // Carregar apenas URL, duração e arte inicialmente
    partialTrack: ["url", "duration", "artworkUrl"]
  },
  sendPayload: // ... função de payload
});

// Quando você precisar de todos os dados da faixa
const track = searchResult.tracks[0];
if (track.isPartialTrack()) {
  // Isso decodificará a faixa e carregará todas as propriedades
  track.resolveData();
}
```
::

## Usando com TypeScript

Ao desenvolver com TypeScript, você pode importar diretamente esses tipos do Moonlink.js para verificação de tipo estática:

```typescript
import { 
  TSearchSources, 
  TLoadResultType, 
  TSortTypeNode, 
  TPlayerLoop, 
  TTrackEndType,
  TPartialTrackProperties
} from "moonlink.js";

// Use tipos em suas funções
function createPlayer(guildId: string, loop: TPlayerLoop = "off") {
  return manager.createPlayer({
    guildId,
    voiceChannelId: "123456789012345678",
    textChannelId: "123456789012345678",
    loop
  });
}

// Use tipos em manipuladores de eventos
manager.on("trackEnd", (player, track, reason: TTrackEndType) => {
  // Lógica baseada na razão do término
});

// Use tipos para configuração
const searchOptions: { query: string; source: TSearchSources } = {
  query: "Never Gonna Give You Up",
  source: "youtube"
};

// Configurar carregamento parcial de faixa
const managerOptions = {
  partialTrack: ["url", "duration", "artworkUrl"] as TPartialTrackProperties[]
};
```

::button-link{right-icon="lucide:arrow-right" to="/interfaces/management"}
  Continuar para Gerenciamento
::