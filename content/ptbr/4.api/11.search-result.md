---
title: SearchResult
description: "Referência da API para a classe SearchResult em Moonlink.js"
icon: 'lucide:search'
authors:
  - avatar: https://www.npmjs.com/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9hNmE5NDVhYjJiNzk1MjcyNzVjN2IwMWEyNWM1YzQ2NT9zaXplPTQ5NiZkZWZhdWx0PXJldHJvIn0.5hP6oyShhR-UWUi6KF-lA0cWmE_BJjvIFAwkYCGEZNo
    name: Lucas Morais Rodrigues
    username: 1Lucas1apk
    to: https://github.com/1Lucas1apk
    target: _blank
---

<branch version="1.0.x">

::card{icon="lucide:search"}
#title
Classe SearchResult

#description
Classe responsável por processar e representar os resultados de pesquisa retornados pelo Lavalink. Ela fornece uma interface consistente para acessar faixas, playlists e informações de erro, incluindo dados estendidos do LavaSearch.
<br>
```js
new SearchResult(req, options)
```
::

::alert{type="info" icon="lucide:info"}
A classe SearchResult é retornada pelo método `search()` do Manager e contém todas as informações sobre os resultados da pesquisa.
::

## Visão Geral

::card{icon="lucide:box"}
#title
Propriedades

#description
Propriedades principais da classe SearchResult.
<br>
<h5>Propriedades Disponíveis</h5>

#content
| Propriedade | Tipo | Descrição |
|----------|------|-------------|
| `query` | `string` | A consulta de pesquisa usada para obter os resultados |
| `source` | `string` | A plataforma de origem da pesquisa (youtube, soundcloud, etc.) |
| `loadType` | `string` | O tipo de resultado da pesquisa (`track`, `playlist`, `search`, `empty`, `error`, `short`) |
| `tracks` | `Track[]` | Array de faixas encontradas na pesquisa |
| `playlistInfo` | `IPlaylistInfo` | Informações sobre a playlist (se loadType for `playlist`) |
| `error` | `string` | Mensagem de erro se a pesquisa falhou |
| `albums` | `ILavaSearchAlbum[]` | Array de álbuns encontrados na pesquisa (apenas LavaSearch). |
| `artists` | `ILavaSearchArtist[]` | Array de artistas encontrados na pesquisa (apenas LavaSearch). |
| `playlists` | `ILavaSearchPlaylist[]` | Array de playlists encontradas na pesquisa (apenas LavaSearch). |
| `texts` | `ILavaSearchText[]` | Array de resultados de texto encontrados na pesquisa (apenas LavaSearch). |
| `lavasearchPluginInfo` | `Object` | Informações específicas do plugin para resultados do LavaSearch. |
| `isLavaSearchResult` | `boolean` | Indica se o resultado é de uma consulta LavaSearch. |
::

## Tipos de Resultado

::card{icon="lucide:list"}
#title
Tipos de Resultado

#description
A propriedade `loadType` pode ter os seguintes valores, incluindo aqueles específicos do LavaSearch.
<br>
<h5>Tipos Disponíveis</h5>

#content
### track
::field{name="track" type="string"}
Indica que uma única faixa foi carregada. O array `tracks` conterá apenas uma faixa.
::

**Exemplo**
```js
{
  loadType: "track",
  tracks: [
    {
      track: "base64-encoded-track",
      info: {
        identifier: "dQw4w9WgXcQ",
        title: "Rick Astley - Never Gonna Give You Up",
        author: "Rick Astley",
        length: 213000,
        isStream: false,
        uri: "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
        sourceName: "youtube"
      }
    }
  ],
  playlistInfo: {
    name: null,
    selectedTrack: -1
  }
}
```

### short
::field{name="short" type="string"}
Indica que uma faixa curta foi carregada. O array `tracks` conterá apenas uma faixa.
::

**Exemplo**
```js
{
  loadType: "short",
  tracks: [
    {
      track: "base64-encoded-track",
      info: {
        identifier: "dQw4w9WgXcQ",
        title: "Rick Astley - Never Gonna Give You Up",
        author: "Rick Astley",
        length: 213000,
        isStream: false,
        uri: "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
        sourceName: "youtube"
      }
    }
  ],
  playlistInfo: {
    name: null,
    selectedTrack: -1
  }
}
```

### playlist
::field{name="playlist" type="string"}
Indica que uma playlist foi carregada. O array `tracks` conterá todas as faixas e `playlistInfo` terá os detalhes da playlist.
::

**Exemplo**
```js
{
  loadType: "playlist",
  tracks: [
    {
      track: "base64-encoded-track-1",
      info: { /* informações da faixa 1 */ }
    },
    {
      track: "base64-encoded-track-2",
      info: { /* informações da faixa 2 */ }
    }
  ],
  playlistInfo: {
    name: "Minha Playlist",
    selectedTrack: 0
  }
}
```

### search
::field{name="search" type="string"}
Indica que a pesquisa retornou múltiplos resultados. O array `tracks` conterá todas as faixas encontradas. Para o LavaSearch, isso também pode incluir `albums`, `artists` e `playlists`.
::

**Exemplo**
```js
{
  loadType: "search",
  tracks: [
    { /* informações da faixa 1 */ },
    { /* informações da faixa 2 */ }
  ],
  albums: [
    { /* informações do álbum 1 */ }
  ],
  artists: [
    { /* informações do artista 1 */ }
  ],
  playlists: [
    { /* informações da playlist 1 */ }
  ],
  texts: [
    { /* resultado de texto 1 */ }
  ],
  playlistInfo: {
    name: null,
    selectedTrack: -1
  }
}
```

### empty
::field{name="empty" type="string"}
Indica que nenhum resultado foi encontrado. O array `tracks` estará vazio.
::

**Exemplo**
```js
{
  loadType: "empty",
  tracks: [],
  playlistInfo: {
    name: null,
    selectedTrack: -1
  }
}
```

### error
::field{name="error" type="string"}
Indica que ocorreu um erro durante a pesquisa. A propriedade `error` conterá a mensagem.
::

**Exemplo**
```js
{
  loadType: "error",
  tracks: [],
  playlistInfo: {
    name: null,
    selectedTrack: -1
  },
  error: "Não foi possível carregar a faixa: 404 Não Encontrado"
}
}
```
::

## Métodos

::card{icon="lucide:settings"}
#title
Métodos

#description
Métodos disponíveis na classe SearchResult.
<br>
<h5>Métodos Disponíveis</h5>

#content
#### getFirst
::field{name="getFirst" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:list-start'
  ---
  #title
  Obter Primeira Faixa

  #description
  Retorna a primeira faixa dos resultados da pesquisa, se disponível.
  <br>
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Retornos e Exemplo

  #description
  **Retornos**
  • **`Track | undefined`** — A primeira faixa ou `undefined` se nenhuma faixa for encontrada.

  ```js
  const firstTrack = searchResult.getFirst();
  if (firstTrack) {
    console.log(`Primeira faixa: ${firstTrack.title}`);
  }
  ```
  ::
::
::

#### getTotalDuration
::field{name="getTotalDuration" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:timer'
  ---
  #title
  Obter Duração Total

  #description
  Calcula a duração total de todas as faixas nos resultados da pesquisa.
  <br>
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Retornos e Exemplo

  #description
  **Retornos**
  • **`number`** — A duração total em milissegundos.

  ```js
  const totalDuration = searchResult.getTotalDuration();
  console.log(`Duração total: ${totalDuration / 1000} segundos`);
  ```
  ::
::
::

::

## Exemplos de Uso

::card{icon="lucide:code"}
#title
Uso Básico

#description
Exemplo de uso da classe SearchResult.

#content
```js
// Crie uma instância de resultado de pesquisa
const searchResult = new SearchResult(response, {
  query: "never gonna give you up",
  source: "youtube",
  requester: message.author
});

// Acesse os resultados da pesquisa
console.log(`Consulta de pesquisa: ${searchResult.query}`);
console.log(`Fonte: ${searchResult.source}`);
console.log(`Tipo de carregamento: ${searchResult.loadType}`);

// Processe as faixas com base no tipo de carregamento
switch (searchResult.loadType) {
  case "track":
  case "search":
    console.log(`Encontradas ${searchResult.tracks.length} faixas`);
    break;
    
  case "playlist":
    console.log(`Playlist encontrada: ${searchResult.playlistInfo.name}`);
    console.log(`Total de faixas: ${searchResult.tracks.length}`);
    break;
    
  case "empty":
    console.log("Nenhum resultado encontrado");
    break;
    
  case "error":
    console.error(`Erro: ${searchResult.error}`);
    break;
}
```
::

## Resultado da Pesquisa

::button-link{right-icon="lucide:arrow-right" to="/api/track"}
  Continuar para Faixa
:: 