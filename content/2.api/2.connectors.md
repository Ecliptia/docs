---
title: Connector
description: Abstract class for creating custom bridges between Moonlink.js and Discord libraries.
icon: lucide:cable
---

The `Connector` class handles the communication layer between Moonlink.js and your Discord library. It manages the flow of voice packets and initializes the manager when the client is ready.

## Properties

::api-properties{name="Connector Properties" description="Internal state of the connector."}
::api-section{title="References"}
::
::api-schema{name="manager" type="Manager" typeLink="/api/manager"}
The Manager instance attached to this connector.
::
::

## Methods

### setManager(manager)
::api-card{name="setManager(manager)" method="setManager" anchorId="setmanager"}
#description
Assigns the Moonlink Manager instance to the connector. This is called automatically by `manager.use()`.

#default
::api-schema{name="manager" type="Manager" required}
The Moonlink Manager instance.
::

#example
```ts
const connector = new MyCustomConnector();
connector.setManager(manager);
```
::

### listen(client)
::api-card{name="listen(client)" method="listen" anchorId="listen"}
#description
**Abstract.** Attaches event listeners to the Discord client. This method should handle the 'ready' event (to call `manager.init`) and raw packet events (to call `manager.packetUpdate`).

#default
::api-schema{name="client" type="any" required}
The Discord library client instance.
::

#example
```ts
// Example implementation
public listen(client) {
    client.on("raw", (packet) => this.manager.packetUpdate(packet));
}
```
::

### send(guildId, payload)
::api-card{name="send(guildId, payload)" method="send" anchorId="send"}
#description
**Abstract.** Transmits a voice packet payload to the Discord Gateway for a specific guild.

#default
::api-schema{name="guildId" type="string" required}
The ID of the guild.
::
::api-schema{name="payload" type="any" required}
The JSON payload to send.
::

#example
```ts
// Example implementation
public send(guildId, payload) {
    const guild = this.client.guilds.get(guildId);
    guild.shard.send(payload);
}
```
::

## Built-in: DiscordJs

### new Connectors.DiscordJs()
::api-card{name="new Connectors.DiscordJs()" anchorId="discordjs"}
#description
The official implementation for the **discord.js** library.

#example
```ts
const { Connectors } = require('moonlink.js');

// Automatically handles:
// 1. client.once('clientReady') -> manager.init()
// 2. client.on('raw') -> manager.packetUpdate()
// 3. send() -> guild.shard.send()
manager.use(new Connectors.DiscordJs(), client);
```
::
