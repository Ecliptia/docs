---
title: Events
description: "Refer√™ncia da API para eventos em Moonlink.js"
icon: 'lucide:bell'
authors:
  - avatar: https://www.npmjs.com/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9hNmE5NDVhYjJiNzk1MjcyNzVjN2IwMWEyNWM1YzQ2NT9zaXplPTQ5NiZkZWZhdWx0PXJldHJvIn0.5hP6oyShhR-UWUi6KF-lA0cWmE_BJjvIFAwkYCGEZNo
    name: Lucas Morais Rodrigues
    username: 1Lucas1apk
    to: https://github.com/1Lucas1apk
    target: _blank
---

Moonlink.js emite v√°rios eventos que voc√™ pode ouvir para reagir a mudan√ßas no estado de players, n√≥s e faixas. Esses eventos s√£o essenciais para criar um bot de m√∫sica interativo e responsivo.

::alert{type="info" icon="lucide:info"}
Todos os eventos s√£o emitidos pelo objeto `Manager`. Voc√™ pode ouvir esses eventos usando o m√©todo `on()` ou `once()`.
::

## Ouvindo Eventos

Para ouvir eventos, voc√™ pode usar o m√©todo `on()` do `Manager`:

```js
// Crie o Manager
const manager = new Manager({
  // ... op√ß√µes
});

// Ou√ßa um evento
manager.on('trackStart', (player, track) => {
  console.log(`Tocando agora: ${track.title}`);
});
```

## Eventos de Depura√ß√£o

#### debug
::field{name="debug" type="event"}
::stack
::card
---
  icon: 'lucide:bug'
---
#title
  Depura√ß√£o

#description
  Emitido quando informa√ß√µes de depura√ß√£o est√£o dispon√≠veis.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="args" type="any[]" required}
    Argumentos de depura√ß√£o
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('debug', (...args) => {
    console.log('[DEBUG]', {
      timestamp: new Date().toISOString(),
      info: args
    });
});
```

```js
  [DEBUG] {
    timestamp: "2024-03-15T12:34:56.789Z",
    info: ["Conectando ao n√≥", "N√≥-1", { host: "localhost", port: 2333 }]
  }
  ```

  #footer
  Use este evento durante o desenvolvimento para informa√ß√µes detalhadas de depura√ß√£o.
  ::
::
::

#### autoLeaved
::field{name="autoLeaved" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:log-out'
---
  #title
  Sa√≠da Autom√°tica

  #description
  Emitido quando um player sai automaticamente de um canal de voz.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que saiu
    ::
    ::field{name="track" type="Track" required}
    A faixa que estava tocando
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('autoLeaved', (player, track) => {
    console.log(`[AUTO] Player saiu:`, {
      guild: player.guildId,
      track: {
        title: track.title,
        author: track.author
      },
      channel: player.voiceChannelId
    });

    const embed = new EmbedBuilder()
      .setColor('#ff6b6b')
      .setTitle('üö™ Sa√≠da Autom√°tica')
      .setDescription(`Saiu do canal de voz por inatividade enquanto tocava **${track.title}**`);

    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) {
      channel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [AUTO] Player saiu: {
    guild: "123456789012345678",
    track: {
      title: "Never Gonna Give You Up",
      author: "Rick Astley"
    },
    channel: "123456789012345678"
  }
  ```

  #footer
  Use este evento para lidar com desconex√µes autom√°ticas e limpeza.
  ::
::
::

## Eventos de N√≥

#### nodeCreate
::field{name="nodeCreate" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:plus-circle'
---
  #title
  Cria√ß√£o de N√≥

  #description
Emitido quando um novo n√≥ √© criado.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O n√≥ criado
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
manager.on('nodeCreate', (node) => {
    console.log(`[N√ì] Novo n√≥ criado:`, {
      identifier: node.identifier,
      host: node.host,
      port: node.port,
      secure: node.secure
    });

    const embed = new EmbedBuilder()
      .setColor('#4ade80')
      .setTitle('üÜï N√≥ Criado')
      .setDescription(`Novo n√≥ ${node.identifier} criado em ${node.host}:${node.port}`);

    // Notificar canal de administra√ß√£o
    const adminChannel = client.channels.cache.get('ID_CANAL_ADMIN');
    if (adminChannel) {
      adminChannel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [N√ì] Novo n√≥ criado: {
    identifier: "N√≥-1",
    host: "localhost",
    port: 2333,
    secure: false
  }
  ```

  #footer
  Monitore a cria√ß√£o de n√≥s para configura√ß√£o e manuten√ß√£o do sistema.
  ::
::
::

#### nodeReady
::field{name="nodeReady" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:check-circle'
---
  #title
  N√≥ Pronto

  #description
  Emitido quando um n√≥ est√° pronto.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O n√≥ pronto
    ::
    ::field{name="stats" type="INodeStats" required}
    As estat√≠sticas do n√≥
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeReady', (node, stats) => {
    console.log(`N√≥ ${node.identifier} est√° pronto`, stats);
});
```

  ```js
  [N√ì] N√≥-1 est√° pronto {
    players: 5,
    cpu: 0.5,
    memory: {
      free: 1000000000,
      used: 500000000,
      allocated: 1500000000
    }
  }
  ```

#footer
  Monitore a prontid√£o do n√≥ para monitoramento do sistema.
  ::
::
::

#### nodeConnected
::field{name="nodeConnected" type="event"}
::stack
::card
---
  icon: 'lucide:plug'
---
#title
  N√≥ Conectado

#description
  Emitido quando um n√≥ se conecta com sucesso.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O n√≥ conectado
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeConnected', (node) => {
    console.log(`N√≥ ${node.identifier} conectado`);
});
```

  ```js
  [N√ì] N√≥-1 conectado
  ```

  #footer
  Rastreie as conex√µes do n√≥ para monitoramento do sistema.
  ::
::
::

#### nodeError
::field{name="nodeError" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:alert-triangle'
---
  #title
  Erro de N√≥

  #description
  Emitido quando um n√≥ encontra um erro.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O n√≥ que encontrou o erro
    ::
    ::field{name="error" type="Error" required}
    O erro que ocorreu
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeError', (node, error) => {
    console.log(`[N√ì] Ocorreu um erro:`, {
      identifier: node.identifier,
      error: {
        name: error.name,
        message: error.message,
        stack: error.stack
      }
    });

    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('‚ö†Ô∏è Erro de N√≥')
      .setDescription(`Erro no n√≥ ${node.identifier}\n\
\
${error.message}
\
\
````);

    // Notificar canal de administra√ß√£o
    const adminChannel = client.channels.cache.get('ID_CANAL_ADMIN');
    if (adminChannel) {
      adminChannel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [N√ì] Ocorreu um erro: {
    identifier: "N√≥-1",
    error: {
      name: "Error",
      message: "Falha ao conectar ao servidor Lavalink",
      stack: "Error: Falha ao conectar..."
    }
  }
  ```

  #footer
  Lide com erros de n√≥ para manter a estabilidade do sistema.
  ::
::
::

#### nodeReconnect
::field{name="nodeReconnect" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:refresh-cw'
---
  #title
  Reconex√£o de N√≥

  #description
  Emitido quando um n√≥ tenta se reconectar.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O n√≥ tentando se reconectar
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeReconnect', (node) => {
    console.log(`[N√ì] Tentativa de reconex√£o:`, {
      identifier: node.identifier,
      attempt: node.reconnectAttempts,
      timeout: node.reconnectTimeout
    });

    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('üîÑ N√≥ Reconectando')
      .setDescription(`N√≥ ${node.identifier} est√° tentando se reconectar\nTentativa: ${node.reconnectAttempts}`);

    // Notificar canal de administra√ß√£o
    const adminChannel = client.channels.cache.get('ID_CANAL_ADMIN');
    if (adminChannel) {
      adminChannel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [N√ì] Tentativa de reconex√£o: {
    identifier: "N√≥-1",
    attempt: 1,
    timeout: 5000
  }
  ```

  #footer
  Monitore as tentativas de reconex√£o para garantir a estabilidade do n√≥.
  ::
::
::

#### nodeDisconnect
::field{name="nodeDisconnect" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:wifi-off'
---
  #title
  Desconex√£o de N√≥

  #description
  Emitido quando um n√≥ se desconecta.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O n√≥ desconectado
    ::
    ::field{name="code" type="number" required}
    C√≥digo de desconex√£o
    ::
    ::field{name="reason" type="string" required}
    Motivo da desconex√£o
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeDisconnect', (node, code, reason) => {
    console.log(`[N√ì] Desconectado:`, {
      identifier: node.identifier,
      code: code,
      reason: reason,
      reconnecting: node.reconnecting
    });

    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('üîå N√≥ Desconectado')
      .setDescription(`N√≥ ${node.identifier} desconectado\nC√≥digo: ${code}\nMotivo: ${reason}`);

    // Notificar canal de administra√ß√£o
    const adminChannel = client.channels.cache.get('ID_CANAL_ADMIN');
    if (adminChannel) {
      adminChannel.send({ embeds: [embed] });
    }
});
```

  ```js
  [N√ì] Desconectado: {
    identifier: "N√≥-1",
    code: 1006,
    reason: "Conex√£o fechada anormalmente",
    reconnecting: true
  }
  ```

#footer
  Lide com desconex√µes de n√≥ para manter a confiabilidade do servi√ßo.
  ::
::
::

#### nodeDestroy
::field{name="nodeDestroy" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:trash-2'
---
  #title
  Destrui√ß√£o de N√≥

  #description
  Emitido quando um n√≥ √© destru√≠do.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O n√≥ destru√≠do
    ::
  ::
  ::

::card
---
  icon: 'lucide:code'
---
#title
  Exemplo de Uso

#description
  ```js
  manager.on('nodeDestroy', (node) => {
    console.log(`[N√ì] Destru√≠do:`, {
      identifier: node.identifier,
      timestamp: new Date().toISOString()
    });

    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('üí• N√≥ Destru√≠do')
      .setDescription(`N√≥ ${node.identifier} foi destru√≠do`);

    // Notificar canal de administra√ß√£o
    const adminChannel = client.channels.cache.get('ID_CANAL_ADMIN');
    if (adminChannel) {
      adminChannel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [N√ì] Destru√≠do: {
    identifier: "N√≥-1",
    timestamp: "2024-03-15T12:34:56.789Z"
  }
  ```

  #footer
  Use este evento para lidar com a limpeza ap√≥s a destrui√ß√£o do n√≥.
  ::
::
::

#### nodeAutoResumed
::field{name="nodeAutoResumed" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:rotate-ccw'
---
  #title
  N√≥ Retomado Automaticamente

  #description
  Emitido quando um n√≥ retoma automaticamente seus players.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O n√≥ que foi retomado
    ::
    ::field{name="players" type="Player[]" required}
    Array de players retomados
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeAutoResumed', (node, players) => {
    console.log(`[N√ì] Retomado automaticamente:`, {
      identifier: node.identifier,
      playersCount: players.length,
      players: players.map(p => ({
        guild: p.guildId,
        track: p.queue.current?.title
      }))
    });

    const embed = new EmbedBuilder()
      .setColor('#4ade80')
      .setTitle('‚ôªÔ∏è Players Retomados')
      .setDescription(`${players.length} players retomados no n√≥ ${node.identifier}`);

    // Notificar players sobre a retomada
    players.forEach(player => {
      const channel = client.channels.cache.get(player.textChannelId);
      if (channel) {
        channel.send('‚úÖ Player retomado ap√≥s reconex√£o do n√≥');
      }
    });
  });
  ```

```js
  [N√ì] Retomado automaticamente: {
    identifier: "N√≥-1",
    playersCount: 2,
    players: [
      {
        guild: "123456789012345678",
        track: "Never Gonna Give You Up"
      },
      {
        guild: "876543210987654321",
        track: "Despacito"
      }
    ]
  }
  ```

  #footer
  Lide com a retomada autom√°tica de players ap√≥s a reconex√£o do n√≥.
  ::
::
::

## Eventos de Player

#### playerCreate
::field{name="playerCreate" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:plus-circle'
---
  #title
  Cria√ß√£o de Player

  #description
  Emitido quando um novo player √© criado.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player criado
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerCreate', (player) => {
    console.log(`[PLAYER] Criado:`, {
      guild: player.guildId,
      node: player.node.identifier,
      voiceChannel: player.voiceChannelId,
      textChannel: player.textChannelId
    });

    const embed = new EmbedBuilder()
      .setColor('#4ade80')
      .setTitle('üéµ Player Criado')
      .setDescription(`Player de m√∫sica criado em <#${player.voiceChannelId}>`);

    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) {
      channel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [PLAYER] Criado: {
    guild: "123456789012345678",
    node: "N√≥-1",
    voiceChannel: "123456789012345678",
    textChannel: "876543210987654321"
  }
  ```

  #footer
  Inicialize as configura√ß√µes do player e configure os manipuladores de eventos.
  ::
::
::

#### playerUpdate
::field{name="playerUpdate" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:refresh'
---
  #title
  Atualiza√ß√£o de Player

  #description
  Emitido quando um player √© atualizado.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player atualizado
    ::
    ::field{name="track" type="Track" required}
    A faixa atualizada
    ::
    ::field{name="payload" type="any" required}
    Os dados do payload
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerUpdate', (player, track, payload) => {
    console.log(`Player atualizado: ${player.guildId}`, payload);
});
```

  ```js
  [PLAYER] Atualizado: {
    guild: "123456789012345678",
    track: {
      title: "Never Gonna Give You Up",
      author: "Rick Astley"
    },
    payload: {
      volume: 1.0,
      loop: false,
      autoplay: true
    }
  }
  ```

#footer
  Lide com atualiza√ß√µes de player e implemente l√≥gica adicional, se necess√°rio.
  ::
::
::

#### playerDestroy
::field{name="playerDestroy" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:trash-2'
---
  #title
  Destrui√ß√£o de Player

  #description
  Emitido quando um player √© destru√≠do.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player destru√≠do
    ::
  ::
  ::

::card
---
  icon: 'lucide:code'
---
#title
  Exemplo de Uso

#description
  ```js
  manager.on('playerDestroy', (player) => {
    console.log(`[PLAYER] Destru√≠do:`, {
      guild: player.guildId,
      node: player.node.identifier,
      reason: player.state
    });

    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('üëã Player Destru√≠do')
      .setDescription('O player de m√∫sica foi destru√≠do');

    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) {
      channel.send({ embeds: [embed] });
    }

    // Limpe quaisquer recursos
    player.queue.clear();
});
```

  ```js
  [PLAYER] Destru√≠do: {
    guild: "123456789012345678",
    node: "N√≥-1",
    reason: "disconnected"
  }
  ```

#footer
  Limpe os recursos e notifique os usu√°rios quando um player for destru√≠do.
  ::
::
::

#### playerSwitchedNode
::field{name="playerSwitchedNode" type="event"}
::stack
::card
---
  icon: 'lucide:move'
---
#title
  Player Trocou de N√≥

#description
  Emitido quando um player muda para um n√≥ diferente.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que trocou
    ::
    ::field{name="oldNode" type="Node" required}
    O n√≥ anterior
    ::
    ::field{name="newNode" type="Node" required}
    O novo n√≥
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerSwitchedNode', (player, oldNode, newNode) => {
    console.log(`Player trocou do n√≥ ${oldNode.identifier} para ${newNode.identifier}`);
});
```

  ```js
  [PLAYER] Trocou de n√≥: {
    guild: "123456789012345678",
    oldNode: "N√≥-1",
    newNode: "N√≥-2"
  }
  ```

  #footer
  Lide com trocas de n√≥ para manter a continuidade da reprodu√ß√£o.
  ::
::
::

## Eventos de Controle do Player

#### playerTriggeredPlay
::field{name="playerTriggeredPlay" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:play'
---
  #title
  Player Acionou Play

  #description
  Emitido quando um player come√ßa a tocar.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que come√ßou a tocar
    ::
    ::field{name="track" type="Track" required}
    A faixa que come√ßou a tocar
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerTriggeredPlay', (player, track) => {
    console.log(`Player come√ßou a tocar: ${track.title}`);
});
```

  ```js
  [PLAYER] Come√ßou a tocar: {
    guild: "123456789012345678",
    track: {
      title: "Never Gonna Give You Up",
      author: "Rick Astley"
    }
  }
  ```

#footer
  Lide com eventos de in√≠cio de player e implemente l√≥gica adicional, se necess√°rio.
  ::
::
::

#### playerTriggeredPause
::field{name="playerTriggeredPause" type="event"}
::stack
::card
---
  icon: 'lucide:pause'
---
#title
  Player Acionou Pause

#description
  Emitido quando um player √© pausado.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que foi pausado
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerTriggeredPause', (player) => {
    console.log(`Player pausado: ${player.guildId}`);
});
```

```js
  [PLAYER] Pausado: {
    guild: "123456789012345678"
  }
  ```

  #footer
  Lide com eventos de pausa de player e implemente l√≥gica adicional, se necess√°rio.
  ::
::
::

#### playerTriggeredResume
::field{name="playerTriggeredResume" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:play'
---
  #title
  Player Acionou Resume

  #description
  Emitido quando um player retoma a reprodu√ß√£o.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que retomou a reprodu√ß√£o
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerTriggeredResume', (player) => {
    console.log(`Player retomado: ${player.guildId}`);
});
```

  ```js
  [PLAYER] Retomado: {
    guild: "123456789012345678"
  }
  ```

  #footer
  Lide com eventos de retomada de player e implemente l√≥gica adicional, se necess√°rio.
  ::
::
::

#### playerTriggeredStop
::field{name="playerTriggeredStop" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:stop'
---
  #title
  Player Acionou Stop

  #description
  Emitido quando um player para de tocar.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que parou de tocar
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerTriggeredStop', (player) => {
    console.log(`Player parado: ${player.guildId}`);
});
```

  ```js
  [PLAYER] Parado: {
    guild: "123456789012345678"
  }
  ```

#footer
  Lide com erros de WebSocket e implemente estrat√©gias de recupera√ß√£o.
  ::
::
::

## Eventos de Filtro

#### filterUpdate
::field{name="filterUpdate" type="event"}
::stack
::card
---
  icon: 'lucide:equalizer'
---
#title
  Atualiza√ß√£o de Filtro

#description
  Emitido quando os filtros de √°udio s√£o atualizados.
  <br>
  <h5>Par√¢metros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player cujos filtros foram atualizados
    ::
    ::field{name="filters" type="Filters" required}
    O objeto de filtros atualizado
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('filterUpdate', (player, filters) => {
    console.log(`[FILTRO] Atualizado:`, {
      guild: player.guildId,
      filters: {
        volume: filters.volume,
        equalizer: filters.equalizer,
        karaoke: filters.karaoke,
        timescale: filters.timescale,
        tremolo: filters.tremolo,
        vibrato: filters.vibrato,
        rotation: filters.rotation,
        distortion: filters.distortion,
        channelMix: filters.channelMix,
        lowPass: filters.lowPass
      }
    });

    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('üéõÔ∏è Filtros Atualizados')
      .setDescription('Os filtros de √°udio foram atualizados')
      .addFields(
        Object.entries(filters)
          .filter(([_, value]) => value !== null && value !== undefined)
          .map(([key, value]) => ({
            name: key.charAt(0).toUpperCase() + key.slice(1),
            value: typeof value === 'object' ? 'Aplicado' : String(value),
            inline: true
          }))
      );

    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) {
      channel.send({ embeds: [embed] });
    }
});
```

  ```js
  [FILTRO] Atualizado: {
    guild: "123456789012345678",
    filters: {
      volume: 1.0,
      equalizer: [
        { band: 0, gain: 0.2 },
        { band: 1, gain: 0.15 }
      ],
      karaoke: null,
      timescale: { speed: 1.1, pitch: 1.0, rate: 1.0 },
      tremolo: null,
      vibrato: null,
      rotation: null,
      distortion: null,
      channelMix: null,
      lowPass: null
    }
  }
  ```

#footer
  Monitore e exiba as altera√ß√µes de filtro de √°udio.
  ::
::
::

## Eventos

#### playerTriggeredSkip
::field{name="playerTriggeredSkip" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:skip-forward'
---
  #title
  Player Acionou Skip

  #description
  Emitido quando uma faixa √© pulada.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `oldTrack: Record<string, any>` - Faixa anterior
  - `currentTrack: Track` - Nova faixa
  - `position: number` - Posi√ß√£o atual
  
  ```js
  manager.on('playerTriggeredSkip', (player, oldTrack, currentTrack, position) => {
    console.log(`Faixa pulada: ${oldTrack.title} -> ${currentTrack.title} (Posi√ß√£o: ${position})`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('‚è≠Ô∏è Faixa Pulada')
      .setDescription(`Pulou **${oldTrack.title}**\nAgora tocando: **${currentTrack.title}**`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerTriggeredSeek
::field{name="playerTriggeredSeek" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:forward'
---
  #title
  Player Acionou Seek

  #description
  Emitido quando a posi√ß√£o da faixa √© alterada.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `position: number` - Nova posi√ß√£o em milissegundos
  
  ```js
  manager.on('playerTriggeredSeek', (player, position) => {
    const timeString = new Date(position).toISOString().substr(11, 8);
    console.log(`Posi√ß√£o alterada para ${timeString}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('‚è© Posi√ß√£o Alterada')
      .setDescription(`Avan√ßou para ${timeString}`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerTriggeredShuffle
::field{name="playerTriggeredShuffle" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:shuffle'
---
  #title
  Player Acionou Shuffle

  #description
  Emitido quando a fila √© embaralhada.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `oldQueue: Record<string, any>` - Fila anterior
  - `currentQueue: Track[]` - Nova fila
  
  ```js
  manager.on('playerTriggeredShuffle', (player, oldQueue, currentQueue) => {
    console.log(`Fila embaralhada: ${currentQueue.length} faixas`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('üîÄ Fila Embaralhada')
      .setDescription(`${currentQueue.length} faixas na fila`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerChangedVolume
::field{name="playerChangedVolume" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:volume-2'
---
  #title
  Player Mudou Volume

  #description
  Emitido quando o volume √© alterado.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `oldVolume: number` - Volume anterior
  - `volume: number` - Novo volume
  
  ```js
  manager.on('playerChangedVolume', (player, oldVolume, volume) => {
    console.log(`Volume alterado: ${oldVolume} -> ${volume}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('üîä Volume Alterado')
      .setDescription(`Volume: ${volume}%`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerChangedLoop
::field{name="playerChangedLoop" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:repeat'
---
  #title
  Player Mudou Loop

  #description
  Emitido quando o modo de loop √© alterado.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `oldLoop: TPlayerLoop` - Modo anterior
  - `loop: TPlayerLoop` - Novo modo
  
  ```js
  manager.on('playerChangedLoop', (player, oldLoop, loop) => {
    console.log(`Loop alterado: ${oldLoop} -> ${loop}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('üîÅ Loop Alterado')
      .setDescription(`Modo: ${loop}`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerAutoPlaySet
::field{name="playerAutoPlaySet" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:music'
---
  #title
  Player Auto Play Definido

  #description
  Emitido quando o autoplay √© alterado.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `autoPlay: boolean` - Novo estado
  
  ```js
  manager.on('playerAutoPlaySet', (player, autoPlay) => {
    console.log(`Autoplay ${autoPlay ? 'ativado' : 'desativado'}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('üéµ Autoplay')
      .setDescription(`Autoplay ${autoPlay ? 'ativado' : 'desativado'}`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerAutoLeaveSet
::field{name="playerAutoLeaveSet" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:log-out'
---
  #title
  Player Auto Leave Definido

  #description
  Emitido quando o autoleave √© alterado.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `autoLeave: boolean` - Novo estado
  
  ```js
  manager.on('playerAutoLeaveSet', (player, autoLeave) => {
    console.log(`Autoleave ${autoLeave ? 'ativado' : 'desativado'}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('üëã Auto Leave')
      .setDescription(`Auto leave ${autoLeave ? 'ativado' : 'desativado'}`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerTextChannelIdSet
::field{name="playerTextChannelIdSet" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:message-square'
---
  #title
  ID do Canal de Texto do Player Definido

  #description
  Emitido quando o canal de texto √© alterado.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `oldChannel: string` - Canal anterior
  - `newChannel: string` - Novo canal
  
  ```js
  manager.on('playerTextChannelIdSet', (player, oldChannel, newChannel) => {
    console.log(`Canal de texto alterado: ${oldChannel} -> ${newChannel}`);
  });
  ```
  ::
::

#### playerVoiceChannelIdSet
::field{name="playerVoiceChannelIdSet" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:mic'
---
  #title
  ID do Canal de Voz do Player Definido

  #description
  Emitido quando o canal de voz √© alterado.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `oldChannel: string` - Canal anterior
  - `newChannel: string` - Novo canal
  
  ```js
  manager.on('playerVoiceChannelIdSet', (player, oldChannel, newChannel) => {
    console.log(`Canal de voz alterado: ${oldChannel} -> ${newChannel}`);
  });
  ```
  ::
::

#### playerNodeSet
::field{name="playerNodeSet" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:server'
---
  #title
  N√≥ do Player Definido

  #description
  Emitido quando o n√≥ do player √© alterado.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `oldNode: string` - N√≥ anterior
  - `newNode: string` - Novo n√≥
  
  ```js
  manager.on('playerNodeSet', (player, oldNode, newNode) => {
    console.log(`N√≥ alterado: ${oldNode} -> ${newNode}`);
  });
  ```
  ::
::

#### playerConnected
::field{name="playerConnected" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:plug'
---
  #title
  Player Conectado

  #description
  Emitido quando um player se conecta.
  
  **Par√¢metros:**
  - `player: Player` - O player conectado
  
  ```js
  manager.on('playerConnected', (player) => {
    console.log(`Player conectado em ${player.guildId}`);
    
    const embed = new EmbedBuilder()
      .setColor('#4ade80')
      .setTitle('üîå Conectado')
      .setDescription(`Conectado ao canal de voz`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerDisconnected
::field{name="playerDisconnected" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:plug-off'
---
  #title
  Player Desconectado

  #description
  Emitido quando um player se desconecta.
  
  **Par√¢metros:**
  - `player: Player` - O player desconectado
  
  ```js
  manager.on('playerDisconnected', (player) => {
    console.log(`Player desconectado em ${player.guildId}`);
    
    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('üîå Desconectado')
      .setDescription(`Desconectado do canal de voz`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerMoved
::field{name="playerMoved" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:move'
---
  #title
  Player Movido

  #description
  Emitido quando um player muda de canal.
  
  **Par√¢metros:**
  - `player: Player` - O player movido
  - `oldChannel: string` - Canal anterior
  - `newChannel: string` - Novo canal
  
  ```js
  manager.on('playerMoved', (player, oldChannel, newChannel) => {
    console.log(`Player movido: ${oldChannel} -> ${newChannel}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('‚ÜîÔ∏è Canal Alterado')
      .setDescription(`Movido para <#${newChannel}>`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerDestroyed
::field{name="playerDestroyed" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:trash-2'
---
  #title
  Player Destru√≠do

  #description
  Emitido quando um player √© destru√≠do.
  
  **Par√¢metros:**
  - `player: Player` - O player destru√≠do
  
  ```js
  manager.on('playerDestroyed', (player) => {
    console.log(`Player destru√≠do em ${player.guildId}`);
    
    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('üí• Player Destru√≠do')
      .setDescription(`O player foi destru√≠do`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### trackStart
::field{name="trackStart" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:music'
---
  #title
  In√≠cio da Faixa

  #description
  Emitido quando uma faixa come√ßa a tocar.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `track: Track` - A faixa iniciada
  
  ```js
  manager.on('trackStart', (player, track) => {
    console.log(`Tocando: ${track.title}`);
    
    const embed = new EmbedBuilder()
      .setColor('#4ade80')
      .setTitle('üéµ Tocando Agora')
      .setDescription(`**${track.title}**`)
      .addFields(
        { name: 'Artista', value: track.author, inline: true },
        { name: 'Dura√ß√£o', value: formatTime(track.duration), inline: true }
      )
      .setThumbnail(track.artworkUrl);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### trackEnd
::field{name="trackEnd" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:music-off'
---
  #title
  Fim da Faixa

  #description
  Emitido quando uma faixa termina.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `track: Track` - A faixa finalizada
  - `type: TTrackEndType` - Tipo de finaliza√ß√£o
  - `payload?: any` - Dados adicionais
  
  ```js
  manager.on('trackEnd', (player, track, type, payload) => {
    console.log(`Faixa finalizada: ${track.title} (${type})`);
    
    const embed = new EmbedBuilder()
      .setColor('#94a3b8')
      .setTitle('üéµ Faixa Finalizada')
      .setDescription(`**${track.title}** terminou`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### trackStuck
::field{name="trackStuck" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:alert-triangle'
---
  #title
  Faixa Travada

  #description
  Emitido quando uma faixa trava.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `track: Track` - A faixa travada
  - `threshold: number` - Limite de tempo
  
  ```js
  manager.on('trackStuck', (player, track, threshold) => {
    console.log(`Faixa travou: ${track.title} (${threshold}ms)`);
    
    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('‚ö†Ô∏è Faixa Travada')
      .setDescription(`**${track.title}** travou\nTempo limite: ${threshold}ms`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### trackException
::field{name="trackException" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:alert-octagon'
---
  #title
  Exce√ß√£o na Faixa

  #description
  Emitido quando ocorre um erro na faixa.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `track: Track` - A faixa com erro
  - `exception: any` - O erro ocorrido
  
  ```js
  manager.on('trackException', (player, track, exception) => {
    console.log(`Erro na faixa ${track.title}:`, exception);
    
    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('‚ùå Erro na Faixa')
      .setDescription(`Erro ao tocar **${track.title}**\n\
\
${exception.message}
\
\
````);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### queueEnd
::field{name="queueEnd" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:list-end'
---
  #title
  Fim da Fila

  #description
  Emitido quando a fila termina.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `track?: any` - √öltima faixa tocada
  
  ```js
  manager.on('queueEnd', (player, track) => {
    console.log(`Fila finalizada em ${player.guildId}`);
    
    const embed = new EmbedBuilder()
      .setColor('#94a3b8')
      .setTitle('üéµ Fila Finalizada')
      .setDescription('Todas as faixas foram tocadas');
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### socketClosed
::field{name="socketClosed" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:wifi-off'
---
  #title
  Socket Fechado

  #description
  Emitido quando o socket √© fechado.
  
  **Par√¢metros:**
  - `player: Player` - O player
  - `code: number` - C√≥digo de fechamento
  - `reason: string` - Motivo do fechamento
  - `byRemote: boolean` - Se foi fechado remotamente
  
  ```js
  manager.on('socketClosed', (player, code, reason, byRemote) => {
    console.log(`Socket fechado: ${reason} (${code})`);
    
    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('üîå Conex√£o Fechada')
      .setDescription(`Conex√£o fechada: ${reason}\nC√≥digo: ${code}`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

::button-link{right-icon="lucide:arrow-right" to="/api/errors"}
  Continuar para Erros
::
