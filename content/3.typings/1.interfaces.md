---
title: Interfaces
description: Comprehensive list of TypeScript interfaces and types used throughout Moonlink.js.
icon: lucide:file-code-2
---

## Event Definitions

::api-interface{name="IManagerEvents" description="Events emitted by the Manager instance."}
::api-schema{name="debug" type="(message: string) => void"}
Emitted for general debugging logs.
::

### Node Events
::api-schema{name="nodeCreate" type="(node: Node) => void"}
Emitted when a node is created.
::
::api-schema{name="nodeReady" type="(node: Node, payload: any) => void"}
Emitted when a node is ready to accept requests.
::
::api-schema{name="nodeConnected" type="(node: Node) => void"}
Emitted when a node establishes a WebSocket connection.
::
::api-schema{name="nodeError" type="(node: Node, error: Error) => void"}
Emitted when a node encounters an error.
::
::api-schema{name="nodeReconnect" type="(node: Node) => void"}
Emitted when a node successfully reconnects.
::
::api-schema{name="nodeReconnecting" type="(node: Node, attempt: number) => void"}
Emitted when a node attempts to reconnect.
::
::api-schema{name="nodeResume" type="(node: Node) => void"}
Emitted when a node session is resumed.
::
::api-schema{name="nodeDisconnect" type="(node: Node, code: number, reason: string) => void"}
Emitted when a node disconnects.
::
::api-schema{name="nodeDestroy" type="(identifier: string) => void"}
Emitted when a node is destroyed.
::
::api-schema{name="nodeRaw" type="(node: Node, payload: any) => void"}
Emitted when a raw packet is received from a node.
::
::api-schema{name="nodeStateChange" type="(node: Node, oldState: NodeState, newState: NodeState) => void"}
Emitted when a node's connection state changes.
::

### Player Events
::api-schema{name="playerCreate" type="(player: Player) => void"}
Emitted when a player is created.
::
::api-schema{name="playerDestroy" type="(player: Player, reason?: string) => void"}
Emitted when a player is destroyed.
::
::api-schema{name="playerUpdate" type="(player: Player, track: Track, payload: any) => void"}
Emitted when player update data is received from Lavalink.
::
::api-schema{name="playerSwitchedNode" type="(player: Player, oldNode: Node, newNode: Node) => void"}
Emitted when a player is transferred to a different node.
::
::api-schema{name="playerConnecting" type="(player: Player) => void"}
Emitted when a player starts connecting to voice.
::
::api-schema{name="playerConnected" type="(player: Player) => void"}
Emitted when a player successfully connects to voice.
::
::api-schema{name="playerReady" type="(player: Player) => void"}
Emitted when a player is fully ready.
::
::api-schema{name="playerResuming" type="(player: Player) => void"}
Emitted when a player starts resuming.
::
::api-schema{name="playerResumed" type="(player: Player) => void"}
Emitted when a player has successfully resumed.
::
::api-schema{name="playerDisconnected" type="(player: Player) => void"}
Emitted when a player disconnects from voice.
::
::api-schema{name="playerReconnect" type="(player: Player, reason?: string) => void"}
Emitted when a player attempts to reconnect.
::
::api-schema{name="playerMoved" type="(player: Player, oldChannel: string, newChannel: string) => void"}
Emitted when a player moves to a different voice channel.
::
::api-schema{name="playerMuteChange" type="(player: Player, selfMute: boolean, serverMute: boolean) => void"}
Emitted when a player's mute state changes.
::
::api-schema{name="playerDeafChange" type="(player: Player, selfDeaf: boolean, serverDeaf: boolean) => void"}
Emitted when a player's deaf state changes.
::
::api-schema{name="playerSuppressChange" type="(player: Player, suppress: boolean) => void"}
Emitted when a player's suppression state changes.
::
::api-schema{name="playerAutoPlaySet" type="(player: Player, autoPlay: boolean) => void"}
Emitted when autoPlay is toggled.
::
::api-schema{name="playerAutoLeaveSet" type="(player: Player, autoLeave: boolean) => void"}
Emitted when autoLeave is toggled.
::
::api-schema{name="playerChangedVolume" type="(player: Player, oldVolume: number, volume: number) => void"}
Emitted when the volume is changed.
::
::api-schema{name="playerChangedLoop" type="(player: Player, oldLoop: PlayerLoop, loop: PlayerLoop, oldLoopCount?: number, newLoopCount?: number) => void"}
Emitted when the loop mode is changed.
::
::api-schema{name="playerTextChannelIdSet" type="(player: Player, oldChannel: string, newChannel: string) => void"}
Emitted when the text channel is updated.
::
::api-schema{name="playerVoiceChannelIdSet" type="(player: Player, oldChannel: string, newChannel: string) => void"}
Emitted when the voice channel ID is updated manually.
::
::api-schema{name="playerNodeSet" type="(player: Player, oldNode: string, newNode: string) => void"}
Emitted when the player's node identifier is updated.
::
::api-schema{name="playerRecoveryStarted" type="(player: Player) => void"}
Emitted when player recovery begins (e.g. after a crash).
::
::api-schema{name="playerRecoverySuccess" type="(player: Player) => void"}
Emitted when player recovery succeeds.
::
::api-schema{name="playerRecoveryFailed" type="(player: Player) => void"}
Emitted when player recovery fails.
::

### Failover Events
::api-schema{name="playersMoved" type="(players: Player[], oldNode: Node, newNode: Node) => void"}
Emitted when multiple players are moved due to node failure/ejection.
::
::api-schema{name="playersOrphaned" type="(players: Player[], deadNode: Node) => void"}
Emitted when players cannot be moved and are left without a node.
::

### Player Triggered Events
::api-schema{name="playerTriggeredPlay" type="(player: Player, track: Track) => void"}
Emitted when `player.play()` is called.
::
::api-schema{name="playerTriggeredPause" type="(player: Player) => void"}
Emitted when `player.pause()` is called.
::
::api-schema{name="playerTriggeredResume" type="(player: Player) => void"}
Emitted when `player.resume()` is called.
::
::api-schema{name="playerTriggeredStop" type="(player: Player) => void"}
Emitted when `player.stop()` is called.
::
::api-schema{name="playerTriggeredSkip" type="(player: Player, oldTrack: object, currentTrack: Track, position: number) => void"}
Emitted when `player.skip()` is called.
::
::api-schema{name="playerTriggeredSeek" type="(player: Player, position: number) => void"}
Emitted when `player.seek()` is called.
::
::api-schema{name="playerTriggeredShuffle" type="(player: Player, oldQueue: object, currentQueue: Track[]) => void"}
Emitted when `player.shuffle()` is called.
::
::api-schema{name="playerTriggeredBack" type="(player: Player, track: Track) => void"}
Emitted when `player.back()` is called.
::

### Track Events
::api-schema{name="trackStart" type="(player: Player, track: Track) => void"}
Emitted when a track starts playing.
::
::api-schema{name="trackEnd" type="(player: Player, track: Track, reason: TrackEndReason, payload?: any) => void"}
Emitted when a track finishes playing.
::
::api-schema{name="trackStuck" type="(player: Player, track: Track, threshold: number, payload?: any) => void"}
Emitted when a track gets stuck (buffers for too long).
::
::api-schema{name="trackException" type="(player: Player, track: Track, exception: any, payload?: any) => void"}
Emitted when an error occurs during playback.
::

### Queue Events
::api-schema{name="queueAdd" type="(player: Player, tracks: Track | Track[]) => void"}
Emitted when tracks are added to the queue.
::
::api-schema{name="queueRemove" type="(player: Player, tracks: Track | Track[]) => void"}
Emitted when tracks are removed from the queue.
::
::api-schema{name="queueMoveRange" type="(player: Player, tracks: Track[], fromIndex: number, toIndex: number) => void"}
Emitted when a range of tracks is moved in the queue.
::
::api-schema{name="queueRemoveRange" type="(player: Player, tracks: Track[], startIndex: number, endIndex: number) => void"}
Emitted when a range of tracks is removed from the queue.
::
::api-schema{name="queueDuplicate" type="(player: Player, tracks: Track[], index: number) => void"}
Emitted when tracks are duplicated in the queue.
::
::api-schema{name="queueEnd" type="(player: Player, lastTrack?: Track) => void"}
Emitted when the queue is empty.
::

### Other Events
::api-schema{name="filtersUpdate" type="(player: Player, filters: Filters) => void"}
Emitted when filters are updated.
::
::api-schema{name="socketClosed" type="(player: Player, code: number, reason: string, byRemote: boolean, payload?: any) => void"}
Emitted when the Discord voice WebSocket closes.
::
::api-schema{name="voiceSessionChanged" type="(player: Player, oldSessionId: string | boolean, sessionId: string) => void"}
Emitted when the voice session ID changes.
::
::api-schema{name="autoPlayed" type="(player: Player, track: Track, previousTrack: Track) => void"}
Emitted when a track starts playing via AutoPlay.
::
::api-schema{name="autoLeaved" type="(player: Player, lastTrack?: Track) => void"}
Emitted when the player auto-leaves the channel.
::
::

## Configuration Interfaces

::api-interface{name="IManagerConfig" description="Main configuration object for the Manager."}
::api-schema{name="nodes" type="IManagerNodeConfig[]" required}
Array of nodes to connect to.
::
::api-schema{name="options" type="IManagerOptionsConfig"}
Global options.
::
::api-schema{name="send" type="(guildId: string, payload: any) => void"}
Function to send packets to Discord.
::
::

::api-interface{name="IManagerNodeConfig" description="Configuration for a single Lavalink node."}
::api-schema{name="host" type="string" required}
Node hostname.
::
::api-schema{name="port" type="number" required}
Node port.
::
::api-schema{name="password" type="string" required}
Node password.
::
::api-schema{name="secure" type="boolean" required}
Whether to use SSL/TLS.
::
::api-schema{name="identifier" type="string"}
Custom identifier for the node.
::
::api-schema{name="pathVersion" type="string"}
API version path (default: 'v4').
::
::api-schema{name="retryDelay" type="number"}
Delay between reconnection attempts.
::
::api-schema{name="retryAmount" type="number"}
Max number of reconnection attempts.
::
::api-schema{name="regions" type="string[]"}
Regions this node is responsible for.
::
::api-schema{name="priority" type="number"}
Priority for load balancing.
::
::

::api-interface{name="IManagerOptionsConfig" description="Global manager options."}
::api-schema{name="clientName" type="string"}
Name of the client sent to Lavalink.
::
::api-schema{name="userAgent" type="string"}
Custom User-Agent for HTTP requests.
::
::api-schema{name="noReplace" type="boolean"}
Prevent replacing the playing track on play call.
::
::api-schema{name="resume" type="boolean"}
Whether to resume session after disconnect.
::
::api-schema{name="resumeTimeout" type="number"}
Timeout in ms for session resuming.
::
::api-schema{name="customFilters" type="Record<string, string | IFilters>"}
Define custom filter presets.
::
::api-schema{name="defaultPlayer" type="IDefaultPlayerOptions"}
Default settings for new players.
::
::api-schema{name="voiceConnection" type="IVoiceConnectionOptions"}
Voice connection settings.
::
::api-schema{name="node" type="INodeOptions"}
Node selection and behavior.
::
::api-schema{name="search" type="ISearchOptions"}
Search behavior settings.
::
::api-schema{name="queue" type="IQueueOptions"}
Queue limits and behavior.
::
::api-schema{name="sources" type="ISourceOptions"}
Source configuration.
::
::api-schema{name="playerDestruction" type="IPlayerDestructionOptions"}
Idle player cleanup settings.
::
::api-schema{name="trackHandling" type="ITrackHandlingOptions"}
Track error and stuck handling.
::
::api-schema{name="trackPartial" type="TPartialTrackProperties[]"}
Properties to load partially for tracks.
::
::api-schema{name="database" type="{ type: 'memory' | 'local', options?: any }"}
Database configuration.
::
::

::api-interface{name="IDefaultPlayerOptions" description="Default settings for new players."}
::api-schema{name="volume" type="number"}
Default volume.
::
::api-schema{name="autoPlay" type="boolean"}
Default autoPlay state.
::
::api-schema{name="autoLeave" type="boolean"}
Default autoLeave state.
::
::api-schema{name="selfDeaf" type="boolean"}
Default selfDeaf state.
::
::api-schema{name="selfMute" type="boolean"}
Default selfMute state.
::
::api-schema{name="loop" type="PlayerLoop"}
Default loop mode ('off', 'track', 'queue').
::
::api-schema{name="historySize" type="number"}
Size of the track history buffer.
::
::

::api-interface{name="IVoiceConnectionOptions" description="Voice connection retry and timeout settings."}
::api-schema{name="timeout" type="number"}
Connection timeout in ms.
::
::api-schema{name="maxReconnectAttempts" type="number"}
Max reconnection attempts.
::
::api-schema{name="reconnectDelay" type="number"}
Delay between reconnections.
::
::api-schema{name="autoReconnect" type="boolean"}
Whether to auto-reconnect on close.
::
::

::api-interface{name="INodeOptions" description="Node selection strategies."}
::api-schema{name="selectionStrategy" type="NodeSortStrategy"}
Strategy to pick nodes ('leastLoad', etc).
::
::api-schema{name="retryDelay" type="number"}
Retry delay for node connection.
::
::api-schema{name="retryAmount" type="number"}
Retry amount for node connection.
::
::api-schema{name="avoidUnhealthyNodes" type="boolean"}
Skip nodes with high CPU/Memory.
::
::api-schema{name="maxCpuLoad" type="number"}
Max CPU load to consider healthy.
::
::api-schema{name="maxMemoryUsage" type="number"}
Max Memory usage to consider healthy.
::
::api-schema{name="autoMovePlayers" type="boolean"}
Move players if a node disconnects.
::
::api-schema{name="autoRebalance" type="boolean"}
Automatically rebalance players (not implemented).
::
::

::api-interface{name="ISearchOptions" description="Search behavior."}
::api-schema{name="defaultPlatform" type="string"}
Default platform ('youtube', 'soundcloud', etc).
::
::api-schema{name="resultLimit" type="number"}
Max results to return.
::
::api-schema{name="playlistLoadLimit" type="number"}
Max tracks to load from a playlist.
::
::

::api-interface{name="IQueueOptions" description="Queue limits."}
::api-schema{name="maxSize" type="number | 'unlimited'"}
Max tracks in queue.
::
::api-schema{name="allowDuplicates" type="boolean"}
Allow duplicate tracks.
::
::api-schema{name="historyLimit" type="number"}
Max tracks in history.
::
::

::api-interface{name="ISourceOptions" description="Source management."}
::api-schema{name="disabledSources" type="string[]"}
List of sources to block.
::
::

::api-interface{name="IPlayerDestructionOptions" description="Idle player cleanup."}
::api-schema{name="autoDestroyOnIdle" type="boolean"}
Destroy player when idle.
::
::api-schema{name="idleTimeout" type="number"}
Time in ms before destruction.
::
::

::api-interface{name="ITrackHandlingOptions" description="Track error handling."}
::api-schema{name="autoSkipOnError" type="boolean"}
Skip track on exception.
::
::api-schema{name="skipStuckTracks" type="boolean"}
Skip track if stuck.
::
::api-schema{name="trackStuckThreshold" type="number"}
Threshold in ms to consider stuck.
::
::api-schema{name="retryFailedTracks" type="boolean"}
Retry track load on failure.
::
::api-schema{name="maxRetryAttempts" type="number"}
Max retries.
::
::

## Player Interfaces

::api-interface{name="IPlayerConfig" description="Options for creating a player."}
::api-schema{name="guildId" type="string" required}
The Guild ID.
::
::api-schema{name="voiceChannelId" type="string" required}
The Voice Channel ID.
::
::api-schema{name="textChannelId" type="string"}
The Text Channel ID.
::
::api-schema{name="node" type="string"}
Specific node identifier to use.
::
::api-schema{name="volume" type="number"}
Initial volume.
::
::api-schema{name="selfDeaf" type="boolean"}
Join deafened.
::
::api-schema{name="selfMute" type="boolean"}
Join muted.
::
::api-schema{name="autoPlay" type="boolean"}
Enable autoPlay.
::
::api-schema{name="autoLeave" type="boolean"}
Enable autoLeave.
::
::api-schema{name="loop" type="PlayerLoop"}
Initial loop mode.
::
::api-schema{name="loopCount" type="number"}
Number of times to loop.
::
::

::api-interface{name="ITrack" description="Raw track object structure."}
::api-schema{name="encoded" type="string" required}
Base64 string.
::
::api-schema{name="info" type="ITrackInfo" required}
Metadata.
::
::api-schema{name="pluginInfo" type="Record<string, any>"}
Plugin-specific data.
::
::api-schema{name="userData" type="Record<string, any>"}
Custom user data attached to the track.
::
::

::api-interface{name="ITrackInfo" description="Track metadata fields."}
::api-schema{name="title" type="string" required}
Track title.
::
::api-schema{name="author" type="string" required}
Track author.
::
::api-schema{name="length" type="number" required}
Length in milliseconds.
::
::api-schema{name="identifier" type="string" required}
Unique identifier.
::
::api-schema{name="isSeekable" type="boolean" required}
Whether seeking is allowed.
::
::api-schema{name="isStream" type="boolean" required}
Whether it's a livestream.
::
::api-schema{name="uri" type="string | null"}
Track URL.
::
::api-schema{name="artworkUrl" type="string | null"}
Track artwork.
::
::api-schema{name="isrc" type="string | null"}
ISRC code.
::
::api-schema{name="sourceName" type="string"}
Source platform name.
::
::api-schema{name="position" type="number"}
Start position.
::
::

::api-interface{name="IPlayerState" description="Current player state from Lavalink."}
::api-schema{name="time" type="number"}
Current Unix timestamp.
::
::api-schema{name="position" type="number"}
Track position in ms.
::
::api-schema{name="connected" type="boolean"}
Voice connection status.
::
::api-schema{name="ping" type="number"}
Voice latency.
::
::

## Filter Interfaces

::api-interface{name="IFilters" description="Audio filter configuration."}
::api-schema{name="volume" type="number"}
Volume multiplier (0.0 - 5.0).
::
::api-schema{name="equalizer" type="IEqualizerBand[]"}
Array of 15 bands.
::
::api-schema{name="karaoke" type="IKaraoke"}
Karaoke settings.
::
::api-schema{name="timescale" type="ITimescale"}
Speed/Pitch/Rate settings.
::
::api-schema{name="tremolo" type="ITremolo"}
Tremolo settings.
::
::api-schema{name="vibrato" type="IVibrato"}
Vibrato settings.
::
::api-schema{name="rotation" type="IRotation"}
8D audio settings.
::
::api-schema{name="distortion" type="IDistortion"}
Distortion settings.
::
::api-schema{name="channelMix" type="IChannelMix"}
Channel mixing settings.
::
::api-schema{name="lowPass" type="ILowPass"}
LowPass filter settings.
::
::api-schema{name="pluginFilters" type="Record<string, any>"}
Custom plugin filters.
::
::

::api-interface{name="IEqualizerBand"}
::api-schema{name="band" type="number"}
Band index (0-14).
::
::api-schema{name="gain" type="number"}
Gain (-0.25 to 1.0).
::
::

::api-interface{name="IKaraoke"}
::api-schema{name="level" type="number"}
::
::api-schema{name="monoLevel" type="number"}
::
::api-schema{name="filterBand" type="number"}
::
::api-schema{name="filterWidth" type="number"}
::
::

::api-interface{name="ITimescale"}
::api-schema{name="speed" type="number"}
::
::api-schema{name="pitch" type="number"}
::
::api-schema{name="rate" type="number"}
::
::

::api-interface{name="ITremolo"}
::api-schema{name="frequency" type="number"}
::
::api-schema{name="depth" type="number"}
::
::

::api-interface{name="IVibrato"}
::api-schema{name="frequency" type="number"}
::
::api-schema{name="depth" type="number"}
::
::

::api-interface{name="IRotation"}
::api-schema{name="rotationHz" type="number"}
::
::

::api-interface{name="IDistortion"}
::api-schema{name="sinOffset" type="number"}
::
::api-schema{name="sinScale" type="number"}
::
::api-schema{name="cosOffset" type="number"}
::
::api-schema{name="cosScale" type="number"}
::
::api-schema{name="tanOffset" type="number"}
::
::api-schema{name="tanScale" type="number"}
::
::api-schema{name="offset" type="number"}
::
::api-schema{name="scale" type="number"}
::
::

::api-interface{name="IChannelMix"}
::api-schema{name="leftToLeft" type="number"}
::
::api-schema{name="leftToRight" type="number"}
::
::api-schema{name="rightToLeft" type="number"}
::
::api-schema{name="rightToRight" type="number"}
::
::

::api-interface{name="ILowPass"}
::api-schema{name="smoothing" type="number"}
::
::

## REST Interfaces

::api-interface{name="INodeStats" description="Node statistics payload."}
::api-schema{name="players" type="number"}
Total players.
::
::api-schema{name="playingPlayers" type="number"}
Active players.
::
::api-schema{name="uptime" type="number"}
Uptime in seconds.
::
::api-schema{name="memory" type="object"}
Memory usage stats.
::
::api-schema{name="cpu" type="object"}
CPU load stats.
::
::

::api-interface{name="IRESTLoadTracks" description="Response from loadTracks endpoint."}
::api-schema{name="loadType" type="string"}
Type of result ('track', 'playlist', etc).
::
::api-schema{name="data" type="any"}
The track(s) data or exception.
::
::

::api-interface{name="IRESTGetPlayers" description="Response from getPlayers endpoint."}
::api-schema{name="guildId" type="string"}
::
::api-schema{name="track" type="ITrack"}
::
::api-schema{name="volume" type="number"}
::
::api-schema{name="paused" type="boolean"}
::
::api-schema{name="state" type="IPlayerState"}
::
::api-schema{name="filters" type="any"}
::
::api-schema{name="voice" type="object"}
Voice state.
::
::

::api-interface{name="IRESTGetLyrics"}
::api-schema{name="text" type="string"}
::
::api-schema{name="lines" type="Array<{ timestamp: number; text: string }>"}
::
::

::api-interface{name="IRoutePlannerStatus" description="Route planner status."}
::api-schema{name="class" type="string"}
The class name of the route planner.
::
::api-schema{name="details" type="IRoutePlannerDetails"}
Detailed status info.
::
::

::api-interface{name="IRoutePlannerDetails"}
::api-schema{name="ipBlock" type="IIpBlock"}
::
::api-schema{name="failingAddresses" type="IFailingAddress[]"}
::
::api-schema{name="rotateIndex" type="string"}
::
::api-schema{name="ipIndex" type="string"}
::
::api-schema{name="currentAddress" type="string"}
::
::api-schema{name="currentAddressIndex" type="string"}
::
::api-schema{name="blockIndex" type="string"}
::
::

::api-interface{name="IIpBlock"}
::api-schema{name="type" type="string"}
::
::api-schema{name="size" type="string"}
::
::

::api-interface{name="IFailingAddress"}
::api-schema{name="failingAddress" type="string"}
::
::api-schema{name="failingTimestamp" type="number"}
::
::api-schema{name="failingTime" type="string"}
::
::
