---
title: Structure
description: "Referência da API para a classe Structure em Moonlink.js"
icon: 'lucide:box'
authors:
  - avatar: https://www.npmjs.com/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9hNmE5NDVhYjJiNzk1MjcyNzVjN2IwMWEyNWM1YzQ2NT9zaXplPTQ5NiZkZWZhdWx0PXJldHJvIn0.5hP6oyShhR-UWUi6KF-lA0cWmE_BJjvIFAwkYCGEZNo
    name: Lucas Morais Rodrigues
    username: 1Lucas1apk
    to: https://github.com/1Lucas1apk
    target: _blank
---

<branch version="1.0.x">

::card{icon="lucide:box"}
#title
Classe Structure

#description
Classe abstrata que fornece métodos para estender e personalizar estruturas do Moonlink.js.
<br>
```js
Structure.extend(name, extender)
```
::

::alert{type="info" icon="lucide:info"}
A classe Structure é uma utilidade central no Moonlink.js que permite aos desenvolvedores estender e personalizar o comportamento de vários componentes da biblioteca.
::

## Visão Geral

::card{icon="lucide:box"}
#title
Propriedades

#description
Propriedades principais da classe Structure.
<br>
<h5>Propriedades Disponíveis</h5>

#content
| Propriedade | Tipo | Descrição |
| -------- | ---- | ----------- |
| `manager` | `Manager` | Referência estática para a instância do Manager |
::

::card{icon="lucide:settings"}
#title
Métodos Estáticos

#description
Métodos disponíveis na classe Structure.
<br>
<h5>Métodos Disponíveis</h5>

#content
| Método | Descrição |
| ------ | ----------- |
| `setManager(manager)` | Define a referência da instância do Manager |
| `getManager()` | Obtém a instância atual do Manager |
| `get(name)` | Obtém uma estrutura pelo nome |
| `extend(name, extender)` | Estende uma estrutura com funcionalidade personalizada |
::

::card{icon="lucide:git-branch"}
#title
Classes Extensíveis

#description
Classes que podem ser estendidas usando a classe Structure.
<br>
<h5>Classes Disponíveis</h5>

#content
| Classe | Descrição | Referência |
| ----- | ----------- | --------- |
| `Database` | Lida com persistência de dados | [Database](/api/database) |
| `NodeManager` | Gerencia nodes Lavalink | [NodeManager](/api/node-manager) |
| `PlayerManager` | Gerencia instâncias de player | [PlayerManager](/api/player-manager) |
| `SearchResult` | Lida com resultados de pesquisa | [SearchResult](/api/search-result) |
| `Player` | Controla a reprodução de música | [Player](/api/player) |
| `Queue` | Gerencia a fila de faixas | [Queue](/api/queue) |
| `Node` | Representa um node Lavalink | [Node](/api/node) |
| `Rest` | Lida com chamadas de API REST | [Rest](/api/rest) |
| `Filters` | Controles de filtro de áudio | [Filters](/api/filters) |
| `Track` | Representa uma faixa | [Track](/api/track) |
| `Lyrics` | Lida com letras de faixas | [Lyrics](/api/lyrics) |
| `Listen` | Manipulação de ouvinte de eventos | [Listen](/api/listen) |
::

## Métodos

#### setManager
::field{name="setManager" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:settings'
  ---
  #title
  Definir Manager

  #description
  Define a referência da instância do Manager.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="manager" type="Manager" required}
    A instância do Manager a ser definida
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Retornos e Exemplo

  #description
  **Retornos**
  • **`void`**

```js
Structure.setManager(manager);
```
  ::
::
::

#### getManager
::field{name="getManager" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:settings'
  ---
  #title
  Obter Manager

  #description
  Obtém a instância atual do Manager.
  <br>
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Retornos e Exemplo

  #description
  **Retornos**
  • **`Manager`** - A instância atual do Manager

```js
const manager = Structure.getManager();
```
  ::
::
::

#### get
::field{name="get" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:search'
  ---
  #title
  Obter Estrutura

  #description
  Obtém uma estrutura pelo nome.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="name" type="string" required}
    O nome da estrutura a ser obtida
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Retornos e Exemplo

  #description
  **Retornos**
  • **`Extendable[K]`** - A estrutura solicitada

```js
const PlayerStructure = Structure.get('Player');
```

::alert{type="warning" icon="lucide:alert-triangle"}
Lança um erro se a estrutura não existir.
::
  ::
::
::

#### extend
::field{name="extend" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:git-branch'
  ---
  #title
  Estender Estrutura

  #description
  Estende uma estrutura com funcionalidade personalizada.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="name" type="string" required}
    O nome da estrutura a ser estendida
    ::
    ::field{name="extender" type="Function" required}
    Função que retorna a classe estendida
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Retornos e Exemplo

  #description
  **Retornos**
  • **`void`**

```js
// Estende a classe Player
Structure.extend('Player', Player => {
  return class CustomPlayer extends Player {
    constructor(manager, options) {
      super(manager, options);
      this.customProperty = 'valor personalizado';
    }
    
    customMethod() {
      return this.customProperty;
    }
  };
});
```
  ::
::
::

## Exemplos de Uso

::card{icon="lucide:code"}
#title
Exemplos Completos

#description
Exemplos de uso da classe Structure para estender componentes do Moonlink.js.

#content
### Extensão Básica
```js
const { Structure } = require('moonlink.js');

// Estende a classe Player
Structure.extend('Player', Player => {
  return class CustomPlayer extends Player {
    constructor(manager, options) {
      super(manager, options);
      this.announceNowPlaying = true;
    }
    
    // Sobrescreve o método play
    async play() {
      const result = await super.play();
      
      if (this.announceNowPlaying && this.current) {
        const channel = this.manager.client.channels.cache.get(this.textChannelId);
        if (channel) {
          channel.send(`Tocando agora: ${this.current.title}`);
        }
      }
      
      return result;
    }
  };
});

// A classe Player personalizada será usada automaticamente
const player = manager.players.create({
  guildId: '123456789',
  voiceChannelId: '123456789',
  textChannelId: '123456789'
});
```

### Múltiplas Extensões
```js
// Estende a classe Queue
Structure.extend('Queue', Queue => {
  return class CustomQueue extends Queue {
    constructor(player) {
      super(player);
      this.maxSize = 100;
    }
    
    add(track) {
      if (this.size >= this.maxSize) {
        throw new Error('Limite de tamanho da fila atingido');
      }
      return super.add(track);
    }
  };
});

// Estende a classe Track
Structure.extend('Track', Track => {
  return class CustomTrack extends Track {
    constructor(data) {
      super(data);
      this.addedAt = Date.now();
    }
    
    getAddedTime() {
      return new Date(this.addedAt).toLocaleString();
    }
  };
});
```

#footer
Estes exemplos demonstram como estender diferentes componentes do Moonlink.js usando a classe Structure.
::

## Referências

::card{icon="lucide:book"}
#title
Referências

#description
Documentação e recursos relacionados.

#content
### Documentação Relacionada
- [Classe Manager](/api/manager)
- [Classe Player](/api/player)
- [Classe Queue](/api/queue)
- [Classe Node](/api/node)
- [Classe Track](/api/track)

### Referências de Código
```typescript
// Definição da classe Structure
export abstract class Structure {
  public static manager: Manager;
  public static setManager(manager: Manager): void;
  public static getManager(): Manager;
  public static get<K extends keyof Extendable>(name: K): Extendable[K];
  public static extend<K extends keyof Extendable>(name: K, extender: Extendable[K]): void;
}

// Estruturas disponíveis
export const structures: Extendable = {
  Database,
  NodeManager,
  PlayerManager,
  SearchResult,
  Player,
  Queue,
  Node,
  Rest,
  Filters,
  Track,
  Lyrics,
  Listen
};
```

### Repositório de Exemplos
Confira nosso [repositório de exemplos](https://github.com/1Lucas1apk/moonlink.js/tree/main/examples) para mais exemplos de extensão de Estrutura.
::

::button-link{right-icon="lucide:arrow-right" to="/api/plugin"}
  Continuar para Plugin
:: 