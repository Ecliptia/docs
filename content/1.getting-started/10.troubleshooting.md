---
title: Troubleshooting
description: The fastest way to diagnose the most common Moonlink + voice issues.
icon: lucide:life-buoy
---

When something doesn’t work, don’t guess — narrow it down.

This checklist is ordered from “most common” to “less common”.

## 1) The bot doesn’t respond to commands

- Did you set the correct `prefix`?
- Did you enable **Message Content Intent** (Portal + code)?
- Is the bot reading messages in that channel?

::alert{type="note" icon="lucide:info"}
If you don’t want Message Content at all, switch to slash commands. Prefix bots require it.
::

## 2) The bot joins voice but no audio plays

This is almost always one of these:

- Your node is not reachable (wrong host/port/firewall).
- Wrong node password.
- You forgot voice packet forwarding (`raw` → `packetUpdate`) *when not using a Connector*.

### Quick checks

- Ensure you see a node ready/connected log.
- Turn on `debug: true` and read the Moonlink `debug` output.

::alert{type="warning" icon="lucide:triangle-alert"}
No `raw` packets = no voice handshake = silent bot. If you use a Connector, it handles this.
::

## 3) Players randomly die / disconnect

- Check your node’s CPU/memory.
- Enable `avoidUnhealthyNodes` and set thresholds.
- Enable `autoMovePlayers` so failover can happen.

::alert{type="note" icon="lucide:info"}
A lot of “Moonlink bugs” are actually node resource issues (CPU spikes, memory pressure, rate limits).
::

## 4) Node selection feels wrong

If you have multiple nodes:

- Confirm `selectionStrategy` in config.
- If you want predictable routing, use `priority` strategy and set each node’s `priority`.

## 5) What to log (minimum)

For a clean but useful production log stream:

- `nodeConnect`, `nodeDisconnect`, `nodeError`
- `playerSwitchedNode`
- `socketClosed` (voice-level failures)

::alert{type="success" icon="lucide:lightbulb"}
If you can answer “Did the node connect?” and “Did we receive voice packets?”, you can solve 80% of issues quickly.
::
