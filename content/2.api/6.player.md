---
title: Player
description: Represents an active audio session for a specific guild. It controls playback, queue management, filters, and voice connection state.
icon: lucide:play-circle
---

The `Player` class is the heart of the audio session. Every guild playing music has one `Player` instance. It manages the queue, controls the playback flow (play, pause, skip), and handles voice channel connections.

## Properties

::api-properties{name="Player Properties" description="Core state and configuration for the audio player."}
::api-section{title="References"}
::
::api-schema{name="manager" type="Manager" typeLink="/api/manager"}
The main Moonlink Manager instance.
::
::api-schema{name="node" type="Node" typeLink="/api/node"}
The Lavalink node currently handling this player.
::
::api-schema{name="queue" type="Queue" typeLink="/api/queue"}
The queue of tracks waiting to be played.
::
::api-schema{name="filters" type="Filters" typeLink="/api/filters"}
Audio filter controls (equalizer, karaoke, timescale, etc.).
::

::api-section{title="Configuration"}
::
::api-schema{name="guildId" type="string"}
The ID of the guild this player belongs to.
::
::api-schema{name="voiceChannelId" type="string"}
The ID of the currently connected voice channel.
::
::api-schema{name="textChannelId" type="string"}
The ID of the text channel used for updates.
::
::api-schema{name="volume" type="number"}
Current volume (0-1000). Default: 100.
::
::api-schema{name="loop" type="PlayerLoop"}
Loop mode: `'off'`, `'track'`, or `'queue'`.
::
::api-schema{name="autoPlay" type="boolean"}
Whether auto-play is enabled.
::

::api-section{title="State"}
::
::api-schema{name="playing" type="boolean"}
True if a track is currently playing.
::
::api-schema{name="paused" type="boolean"}
True if playback is paused.
::
::api-schema{name="connected" type="boolean"}
True if connected to a voice channel.
::
::api-schema{name="current" type="Track | null"}
The track currently being played.
::
::api-schema{name="previous" type="Track[]"}
History of previously played tracks.
::
::

## Methods

### connect(options)
::api-card{name="connect(options)" method="connect" returns="Promise<this>" anchorId="connect"}
#description
Connects the player to the voice channel specified in `voiceChannelId`.

#default
::api-schema{name="options" type="object"}
Optional voice state settings.
::

::api-section{title="options"}
::
::api-schema{name="selfDeaf" type="boolean" nested}
Whether to deafen the bot on join. Default: `true`.
::
::api-schema{name="selfMute" type="boolean" nested}
Whether to mute the bot on join. Default: `false`.
::

#example
```ts
await player.connect({ selfDeaf: true });
```
::

### disconnect()
::api-card{name="disconnect()" method="disconnect" returns="Promise<this>" anchorId="disconnect"}
#description
Disconnects the player from the voice channel but keeps the player instance active (paused).

#example
```ts
await player.disconnect();
```
::

### play(options)
::api-card{name="play(options)" method="play" returns="Promise<boolean>" anchorId="play"}
#description
Starts playback. If a track is provided, it is added to the queue. If the queue is not empty, it starts playing.

#default
::api-schema{name="options" type="object | Track"}
The track to play or play options.
::

::api-section{title="PlayOptions"}
::
::api-schema{name="track" type="Track" nested}
The track object to play.
::
::api-schema{name="encoded" type="string" nested}
Alternatively, a base64 encoded track string.
::
::api-schema{name="noReplace" type="boolean" nested}
If true, will not replace the currently playing track.
::

#example
```ts
// Play a specific track
await player.play(myTrack);

// Or just start the queue
await player.play();
```
::

### pause()
::api-card{name="pause()" method="pause" returns="Promise<this>" anchorId="pause"}
#description
Pauses playback.

#example
```ts
await player.pause();
```
::

### resume()
::api-card{name="resume()" method="resume" returns="Promise<this>" anchorId="resume"}
#description
Resumes playback if paused.

#example
```ts
await player.resume();
```
::

### stop()
::api-card{name="stop()" method="stop" returns="Promise<this>" anchorId="stop"}
#description
Stops the current track immediately. The queue remains intact.

#example
```ts
await player.stop();
```
::

### skip(position)
::api-card{name="skip(position)" method="skip" returns="Promise<boolean>" anchorId="skip"}
#description
Skips the current track. If `position` is provided, it skips to that specific index in the queue.

#default
::api-schema{name="position" type="number"}
Optional. The index in the queue to skip to.
::

#example
```ts
// Skip current song
await player.skip();

// Skip to the 3rd song in queue
await player.skip(2);
```
::

### seek(position)
::api-card{name="seek(position)" method="seek" returns="Promise<this>" anchorId="seek"}
#description
Seeks to a specific position in the current track.

#default
::api-schema{name="position" type="number" required}
The position in milliseconds.
::

#example
```ts
// Seek to 1 minute
await player.seek(60000);
```
::

### setVolume(volume)
::api-card{name="setVolume(volume)" method="setVolume" returns="this" anchorId="setvolume"}
#description
Sets the playback volume.

#default
::api-schema{name="volume" type="number" required}
Volume level (0-1000).
::

#example
```ts
player.setVolume(50); // 50%
```
::

### setLoop(loop)
::api-card{name="setLoop(loop)" method="setLoop" returns="this" anchorId="setloop"}
#description
Sets the loop mode.

#default
::api-schema{name="loop" type="PlayerLoop" required}
Mode: `'off'`, `'track'`, or `'queue'`.
::

#example
```ts
player.setLoop('track');
```
::

### shuffle()
::api-card{name="shuffle()" method="shuffle" returns="this" anchorId="shuffle"}
#description
Shuffles the current queue.

#example
```ts
player.shuffle();
```
::

### destroy()
::api-card{name="destroy()" method="destroy" returns="Promise<void>" anchorId="destroy"}
#description
Totally destroys the player, disconnects voice, and cleans up data on the node.

#example
```ts
await player.destroy("Finished playing");
```
::

### transferNode(node)
::api-card{name="transferNode(node)" method="transferNode" returns="Promise<boolean>" anchorId="transfernode"}
#description
Moves the player to a different Lavalink node seamlessly.

#default
::api-schema{name="node" type="Node | string" required}
The target node or its identifier.
::

#example
```ts
await player.transferNode(backupNode);
```
::

### back()
::api-card{name="back()" method="back" returns="Promise<boolean>" anchorId="back"}
#description
Plays the previously played track (if available in history).

#example
```ts
await player.back();
```
::

### restart()
::api-card{name="restart()" method="restart" returns="Promise<boolean>" anchorId="restart"}
#description
Restarts the player, useful for recovering from connection issues. It re-establishes voice and resumes the track/queue.

#example
```ts
await player.restart();
```
::
