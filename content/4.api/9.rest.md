---
title: REST API
description: "API reference for the REST API in Moonlink.js"
icon: 'lucide:globe'
authors:
  - avatar: https://www.npmjs.com/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9hNmE5NDVhYjJiNzk1MjcyNzVjN2IwMWEyNWM1YzQ2NT9zaXplPTQ5NiZkZWZhdWx0PXJldHJvIn0.5hP6oyShhR-UWUi6KF-lA0cWmE_BJjvIFAwkYCGEZNo
    name: Lucas Morais Rodrigues
    username: 1Lucas1apk
    to: https://github.com/1Lucas1apk
    target: _blank
---

<branch version="1.0.x">

::card{icon="lucide:globe"}
#title
REST Class

#description
The class responsible for managing HTTP requests to the Lavalink server. It is instantiated via a `Node` instance.
<br>
```js
new REST(node: Node)
```
::

::alert{type="info" icon="lucide:info"}
The REST API is used internally by Moonlink.js. Most users won't need to interact with it directly, as the Manager and Player classes provide higher-level abstractions.
::

## Overview

::card{icon="lucide:box"}
#title
Properties

#description
Core properties of the REST class.
<br>
<h5>Available Properties</h5>

#content
| Property | Type | Description |
| -------- | ---- | ----------- |
| `node` | `Node` | The associated Node instance. |
| `url` | `string` | Base URL for requests to the Lavalink server. |
| `defaultHeaders` | `Record<string, string>` | Default headers used for all requests. |
::

::card{icon="lucide:settings"}
#title
Configuration

#description
The REST class is configured through the `Node` instance it is associated with. It inherits connection details and authentication from the Node.
<br>

::alert{type="info" icon="lucide:info"}
You do not directly configure the REST class with host, port, or password. These are derived from the `Node` object passed to its constructor.
::
::

## Methods

#### loadTracks
::field{name="loadTracks" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:music'
  ---
  #title
  Load Tracks

  #description
  Loads tracks from an identifier. Supports direct URLs, and special prefixes for TTS sources.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="source" type="string" required}
    The search source (youtube, soundcloud, flowerytts, tts, etc.)
    ::
    ::field{name="query" type="string" required}
    The search query or direct URL.
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<IRESTLoadTracks>`**

```js
// Load a track from YouTube
const result = await rest.loadTracks('youtube', 'Never Gonna Give You Up');

// Load a playlist
const result = await rest.loadTracks('youtube', 'https://youtube.com/playlist?list=...');

// Load a TTS track
const ttsResult = await rest.loadTracks('flowerytts', 'Hello, world!');
```
  ::
::
::

#### update
::field{name="update" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:refresh-cw'
  ---
  #title
  Update Player

  #description
  Updates a player's state on the Lavalink server.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="data" type="IRESTOptions" required}
    An object containing `guildId` and `data` for the player update.
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<unknown>`**

```js
await rest.update({
  guildId: '123456789',
  data: {
    track: 'base64EncodedTrack',
    volume: 100
  }
});
```
  ::
::
::

#### destroy
::field{name="destroy" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:trash'
  ---
  #title
  Destroy Player

  #description
  Removes a player from the Lavalink server.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="guildId" type="string" required}
    Discord guild ID
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<unknown>`**

```js
await rest.destroy('123456789');
```
  ::
::
::

#### getInfo
::field{name="getInfo" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:info'
  ---
  #title
  Get Info

  #description
  Gets information about the Lavalink server.
  <br>
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<unknown>`**

```js
const info = await rest.getInfo();
```
  ::
::
::

#### getStats
::field{name="getStats" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:bar-chart'
  ---
  #title
  Get Stats

  #description
  Gets statistics from the Lavalink server.
  <br>
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<unknown>`**

```js
const stats = await rest.getStats();
```
  ::
::
::

#### getVersion
::field{name="getVersion" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:tag'
  ---
  #title
  Get Version

  #description
  Gets the Lavalink server version.
  <br>
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<unknown>`**

```js
const version = await rest.getVersion();
```
  ::
::
::

#### getLyrics
::field{name="getLyrics" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:file-text'
  ---
  #title
  Get Lyrics

  #description
  Gets the lyrics for a track.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="data" type="Object" required}
    Track data
    ::
    ::field{name="data.encoded" type="string" required}
    Base64 encoded track
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<IRESTGetLyrics>`**

```js
const lyrics = await rest.getLyrics({ encoded: 'base64EncodedTrack' });
```
  ::
::
::

#### updateSession
::field{name="updateSession" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:refresh'
  ---
  #title
  Update Session

  #description
  Updates a session on the Lavalink server.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="sessionId" type="string" required}
    Session ID
    ::
    ::field{name="data" type="any" required}
    Session data
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<any>`**

```js
await rest.updateSession('session-123', { timeout: 60000 });
```
  ::
::
::

#### decodeTrack
::field{name="decodeTrack" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:file-code'
  ---
  #title
  Decode Track

  #description
  Decodes a base64 encoded track.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="encodedTrack" type="string" required}
    Base64 encoded track
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<any>`**

```js
const trackInfo = await rest.decodeTrack('base64EncodedTrack');
```
  ::
::
::

#### decodeTracks
::field{name="decodeTracks" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:files'
  ---
  #title
  Decode Multiple Tracks

  #description
  Decodes multiple base64 encoded tracks.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="encodedTracks" type="string[]" required}
    Array of base64 encoded tracks
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<any>`**

```js
const tracksInfo = await rest.decodeTracks(['base64Track1', 'base64Track2']);
```
  ::
::
::

#### getPlayers
::field{name="getPlayers" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:list'
  ---
  #title
  Get Players

  #description
  Gets all players in a session.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="sessionId" type="string" required}
    Session ID
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<IRESTGetPlayers>`**

```js
const players = await rest.getPlayers('session-123');
```
  ::
::
::

#### getPlayer
::field{name="getPlayer" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:music'
  ---
  #title
  Get Player

  #description
  Gets information about a specific player.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="sessionId" type="string" required}
    Session ID
    ::
    ::field{name="guildId" type="string" required}
    Discord guild ID
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<any>`**

```js
const player = await rest.getPlayer('session-123', '123456789');
```
  ::
::
::

#### getRoutePlannerStatus
::field{name="getRoutePlannerStatus" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:route'
  ---
  #title
  Get Route Planner Status

  #description
  Retrieves the status of the Lavalink Route Planner, which manages IP addresses for outgoing connections.
  <br>
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<any>`** — Route Planner status object.

  ```js
  const status = await rest.getRoutePlannerStatus();
  console.log(status);
  ```
  ::
::
::

#### unmarkFailedAddress
::field{name="unmarkFailedAddress" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:map-pin-off'
  ---
  #title
  Unmark Failed Address

  #description
  Unmarks a specific IP address as failed in the Route Planner, allowing it to be used again.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="address" type="string" required}
    The IP address to unmark.
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<any>`**

  ```js
  await rest.unmarkFailedAddress('192.168.1.1');
  ```
  ::
::
::

#### unmarkAllFailedAddresses
::field{name="unmarkAllFailedAddresses" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:map-pin-off'
  ---
  #title
  Unmark All Failed Addresses

  #description
  Unmarks all currently failed IP addresses in the Route Planner.
  <br>
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<any>`**

  ```js
  await rest.unmarkAllFailedAddresses();
  ```
  ::
::
::

#### patch
::field{name="patch" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:git-commit'
  ---
  #title
  Patch Request

  #description
  Sends a generic PATCH request to a specified path on the Lavalink server.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="path" type="string" required}
    The API path to send the PATCH request to (e.g., `sessions/your-session-id`).
    ::
    ::field{name="data" type="any" required}
    The data payload for the PATCH request.
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:fold-horizontal'
  icon-size: 26
  horizontal: true
  ---
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<unknown>`**

  ```js
  await rest.patch('sessions/my-session-id', { resuming: true });
  ```
  ::
::
::

#### get
::field{name="get" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:download'
  ---
  #title
  Generic GET Request

  #description
  Sends a generic GET request to a specified path on the Lavalink server.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="path" type="string" required}
    The API path to send the GET request to.
    ::
  ::
  ::

  ::card
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<unknown>`**

  ```js
  const data = await rest.get('sessions/my-session-id/players');
  ```
  ::
::
::

#### put
::field{name="put" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:upload'
  ---
  #title
  Generic PUT Request

  #description
  Sends a generic PUT request to a specified path on the Lavalink server.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="path" type="string" required}
    The API path to send the PUT request to.
    ::
    ::field{name="data" type="any" required}
    The data payload for the PUT request.
    ::
  ::
  ::

  ::card
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<unknown>`**

  ```js
  await rest.put('sessions/my-session-id/player', { volume: 100 });
  ```
  ::
::
::

#### post
::field{name="post" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:send'
  ---
  #title
  Generic POST Request

  #description
  Sends a generic POST request to a specified path on the Lavalink server.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="path" type="string" required}
    The API path to send the POST request to.
    ::
    ::field{name="data" type="any"}
    Optional: The data payload for the POST request.
    ::
  ::
  ::

  ::card
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<unknown>`**

  ```js
  await rest.post('sessions/my-session-id/player/play', { track: 'encodedTrack' });
  ```
  ::
::
::

#### delete
::field{name="delete" type="method"}
::stack
  ::card
  ---
  icon: 'lucide:trash'
  ---
  #title
  Generic DELETE Request

  #description
  Sends a generic DELETE request to a specified path on the Lavalink server.
  <br>
  <h5>Parameters</h5>

  ::field-group
    ::field{name="path" type="string" required}
    The API path to send the DELETE request to.
    ::
  ::
  ::

  ::card
  #title
  Returns & Example

  #description
  **Returns**
  • **`Promise<unknown>`**

  ```js
  await rest.delete('sessions/my-session-id/player');
  ```
  ::
::
::

## Usage Example

::card{icon="lucide:code"}
#title
Basic Usage

#description
Example of how to use the REST class.
<br>
<h5>Code Example</h5>

#content
```js
// Create a REST instance through a node
const rest = node.rest;

// Load a track
const result = await rest.loadTracks('youtube', 'Never Gonna Give You Up');

// Update a player
await rest.update({
  guildId: '123456789',
  data: {
    track: result.tracks[0].track,
    volume: 100
  }
});

// Get server information
const info = await rest.getInfo();
console.log('Lavalink version:', info.version);

// Decode a track
const trackInfo = await rest.decodeTrack(result.tracks[0].track);
console.log('Track title:', trackInfo.title);
```

#footer
This example demonstrates basic operations using the REST API.
::

::button-link{right-icon="lucide:arrow-right" to="/api/websocket"}
  Continue to WebSocket
:: 