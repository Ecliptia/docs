---
title: Events
description: "Referência da API para eventos em Moonlink.js"
icon: 'lucide:bell'
authors:
  - avatar: https://www.npmjs.com/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9hNmE5NDVhYjJiNzk1MjcyNzVjN2IwMWEyNWM1YzQ2NT9zaXplPTQ5NiZkZWZhdWx0PXJldHJvIn0.5hP6oyShhR-UWUi6KF-lA0cWmE_BJjvIFAwkYCGEZNo
    name: Lucas Morais Rodrigues
    username: 1Lucas1apk
    to: https://github.com/1Lucas1apk
    target: _blank
---

Moonlink.js emite vários eventos que você pode ouvir para reagir a mudanças no estado de players, nós e faixas. Esses eventos são essenciais para criar um bot de música interativo e responsivo.

::alert{type="info" icon="lucide:info"}
Todos os eventos são emitidos pelo objeto `Manager`. Você pode ouvir esses eventos usando o método `on()` ou `once()`.
::

## Ouvindo Eventos

Para ouvir eventos, você pode usar o método `on()` do `Manager`:

```js
// Crie o Manager
const manager = new Manager({
  // ... opções
});

// Ouça um evento
manager.on('trackStart', (player, track) => {
  console.log(`Tocando agora: ${track.title}`);
});
```

## Eventos de Depuração

#### debug
::field{name="debug" type="event"}
::stack
::card
---
  icon: 'lucide:bug'
---
#title
  Depuração

#description
  Emitido quando informações de depuração estão disponíveis.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="args" type="any[]" required}
    Argumentos de depuração
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('debug', (...args) => {
    console.log('[DEBUG]', {
      timestamp: new Date().toISOString(),
      info: args
    });
});
```

```js
  [DEBUG] {
    timestamp: "2024-03-15T12:34:56.789Z",
    info: ["Conectando ao nó", "Nó-1", { host: "localhost", port: 2333 }]
  }
  ```

  #footer
  Use este evento durante o desenvolvimento para informações detalhadas de depuração.
  ::
::
::

#### autoLeaved
::field{name="autoLeaved" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:log-out'
---
  #title
  Saída Automática

  #description
  Emitido quando um player sai automaticamente de um canal de voz.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que saiu
    ::
    ::field{name="track" type="Track" required}
    A faixa que estava tocando
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('autoLeaved', (player, track) => {
    console.log(`[AUTO] Player saiu:`, {
      guild: player.guildId,
      track: {
        title: track.title,
        author: track.author
      },
      channel: player.voiceChannelId
    });

    const embed = new EmbedBuilder()
      .setColor('#ff6b6b')
      .setTitle('🚪 Saída Automática')
      .setDescription(`Saiu do canal de voz por inatividade enquanto tocava **${track.title}**`);

    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) {
      channel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [AUTO] Player saiu: {
    guild: "123456789012345678",
    track: {
      title: "Never Gonna Give You Up",
      author: "Rick Astley"
    },
    channel: "123456789012345678"
  }
  ```

  #footer
  Use este evento para lidar com desconexões automáticas e limpeza.
  ::
::
::

## Eventos de Nó

#### nodeCreate
::field{name="nodeCreate" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:plus-circle'
---
  #title
  Criação de Nó

  #description
Emitido quando um novo nó é criado.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O nó criado
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
manager.on('nodeCreate', (node) => {
    console.log(`[NÓ] Novo nó criado:`, {
      identifier: node.identifier,
      host: node.host,
      port: node.port,
      secure: node.secure
    });

    const embed = new EmbedBuilder()
      .setColor('#4ade80')
      .setTitle('🆕 Nó Criado')
      .setDescription(`Novo nó ${node.identifier} criado em ${node.host}:${node.port}`);

    // Notificar canal de administração
    const adminChannel = client.channels.cache.get('ID_CANAL_ADMIN');
    if (adminChannel) {
      adminChannel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [NÓ] Novo nó criado: {
    identifier: "Nó-1",
    host: "localhost",
    port: 2333,
    secure: false
  }
  ```

  #footer
  Monitore a criação de nós para configuração e manutenção do sistema.
  ::
::
::

#### nodeReady
::field{name="nodeReady" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:check-circle'
---
  #title
  Nó Pronto

  #description
  Emitido quando um nó está pronto.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O nó pronto
    ::
    ::field{name="stats" type="INodeStats" required}
    As estatísticas do nó
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeReady', (node, stats) => {
    console.log(`Nó ${node.identifier} está pronto`, stats);
});
```

  ```js
  [NÓ] Nó-1 está pronto {
    players: 5,
    cpu: 0.5,
    memory: {
      free: 1000000000,
      used: 500000000,
      allocated: 1500000000
    }
  }
  ```

#footer
  Monitore a prontidão do nó para monitoramento do sistema.
  ::
::
::

#### nodeConnected
::field{name="nodeConnected" type="event"}
::stack
::card
---
  icon: 'lucide:plug'
---
#title
  Nó Conectado

#description
  Emitido quando um nó se conecta com sucesso.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O nó conectado
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeConnected', (node) => {
    console.log(`Nó ${node.identifier} conectado`);
});
```

  ```js
  [NÓ] Nó-1 conectado
  ```

  #footer
  Rastreie as conexões do nó para monitoramento do sistema.
  ::
::
::

#### nodeError
::field{name="nodeError" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:alert-triangle'
---
  #title
  Erro de Nó

  #description
  Emitido quando um nó encontra um erro.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O nó que encontrou o erro
    ::
    ::field{name="error" type="Error" required}
    O erro que ocorreu
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeError', (node, error) => {
    console.log(`[NÓ] Ocorreu um erro:`, {
      identifier: node.identifier,
      error: {
        name: error.name,
        message: error.message,
        stack: error.stack
      }
    });

    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('⚠️ Erro de Nó')
      .setDescription(`Erro no nó ${node.identifier}\n\
\
${error.message}
\
\
````);

    // Notificar canal de administração
    const adminChannel = client.channels.cache.get('ID_CANAL_ADMIN');
    if (adminChannel) {
      adminChannel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [NÓ] Ocorreu um erro: {
    identifier: "Nó-1",
    error: {
      name: "Error",
      message: "Falha ao conectar ao servidor Lavalink",
      stack: "Error: Falha ao conectar..."
    }
  }
  ```

  #footer
  Lide com erros de nó para manter a estabilidade do sistema.
  ::
::
::

#### nodeReconnect
::field{name="nodeReconnect" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:refresh-cw'
---
  #title
  Reconexão de Nó

  #description
  Emitido quando um nó tenta se reconectar.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O nó tentando se reconectar
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeReconnect', (node) => {
    console.log(`[NÓ] Tentativa de reconexão:`, {
      identifier: node.identifier,
      attempt: node.reconnectAttempts,
      timeout: node.reconnectTimeout
    });

    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('🔄 Nó Reconectando')
      .setDescription(`Nó ${node.identifier} está tentando se reconectar\nTentativa: ${node.reconnectAttempts}`);

    // Notificar canal de administração
    const adminChannel = client.channels.cache.get('ID_CANAL_ADMIN');
    if (adminChannel) {
      adminChannel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [NÓ] Tentativa de reconexão: {
    identifier: "Nó-1",
    attempt: 1,
    timeout: 5000
  }
  ```

  #footer
  Monitore as tentativas de reconexão para garantir a estabilidade do nó.
  ::
::
::

#### nodeDisconnect
::field{name="nodeDisconnect" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:wifi-off'
---
  #title
  Desconexão de Nó

  #description
  Emitido quando um nó se desconecta.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O nó desconectado
    ::
    ::field{name="code" type="number" required}
    Código de desconexão
    ::
    ::field{name="reason" type="string" required}
    Motivo da desconexão
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeDisconnect', (node, code, reason) => {
    console.log(`[NÓ] Desconectado:`, {
      identifier: node.identifier,
      code: code,
      reason: reason,
      reconnecting: node.reconnecting
    });

    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('🔌 Nó Desconectado')
      .setDescription(`Nó ${node.identifier} desconectado\nCódigo: ${code}\nMotivo: ${reason}`);

    // Notificar canal de administração
    const adminChannel = client.channels.cache.get('ID_CANAL_ADMIN');
    if (adminChannel) {
      adminChannel.send({ embeds: [embed] });
    }
});
```

  ```js
  [NÓ] Desconectado: {
    identifier: "Nó-1",
    code: 1006,
    reason: "Conexão fechada anormalmente",
    reconnecting: true
  }
  ```

#footer
  Lide com desconexões de nó para manter a confiabilidade do serviço.
  ::
::
::

#### nodeDestroy
::field{name="nodeDestroy" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:trash-2'
---
  #title
  Destruição de Nó

  #description
  Emitido quando um nó é destruído.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O nó destruído
    ::
  ::
  ::

::card
---
  icon: 'lucide:code'
---
#title
  Exemplo de Uso

#description
  ```js
  manager.on('nodeDestroy', (node) => {
    console.log(`[NÓ] Destruído:`, {
      identifier: node.identifier,
      timestamp: new Date().toISOString()
    });

    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('💥 Nó Destruído')
      .setDescription(`Nó ${node.identifier} foi destruído`);

    // Notificar canal de administração
    const adminChannel = client.channels.cache.get('ID_CANAL_ADMIN');
    if (adminChannel) {
      adminChannel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [NÓ] Destruído: {
    identifier: "Nó-1",
    timestamp: "2024-03-15T12:34:56.789Z"
  }
  ```

  #footer
  Use este evento para lidar com a limpeza após a destruição do nó.
  ::
::
::

#### nodeAutoResumed
::field{name="nodeAutoResumed" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:rotate-ccw'
---
  #title
  Nó Retomado Automaticamente

  #description
  Emitido quando um nó retoma automaticamente seus players.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="node" type="Node" required}
    O nó que foi retomado
    ::
    ::field{name="players" type="Player[]" required}
    Array de players retomados
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('nodeAutoResumed', (node, players) => {
    console.log(`[NÓ] Retomado automaticamente:`, {
      identifier: node.identifier,
      playersCount: players.length,
      players: players.map(p => ({
        guild: p.guildId,
        track: p.queue.current?.title
      }))
    });

    const embed = new EmbedBuilder()
      .setColor('#4ade80')
      .setTitle('♻️ Players Retomados')
      .setDescription(`${players.length} players retomados no nó ${node.identifier}`);

    // Notificar players sobre a retomada
    players.forEach(player => {
      const channel = client.channels.cache.get(player.textChannelId);
      if (channel) {
        channel.send('✅ Player retomado após reconexão do nó');
      }
    });
  });
  ```

```js
  [NÓ] Retomado automaticamente: {
    identifier: "Nó-1",
    playersCount: 2,
    players: [
      {
        guild: "123456789012345678",
        track: "Never Gonna Give You Up"
      },
      {
        guild: "876543210987654321",
        track: "Despacito"
      }
    ]
  }
  ```

  #footer
  Lide com a retomada automática de players após a reconexão do nó.
  ::
::
::

## Eventos de Player

#### playerCreate
::field{name="playerCreate" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:plus-circle'
---
  #title
  Criação de Player

  #description
  Emitido quando um novo player é criado.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player criado
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerCreate', (player) => {
    console.log(`[PLAYER] Criado:`, {
      guild: player.guildId,
      node: player.node.identifier,
      voiceChannel: player.voiceChannelId,
      textChannel: player.textChannelId
    });

    const embed = new EmbedBuilder()
      .setColor('#4ade80')
      .setTitle('🎵 Player Criado')
      .setDescription(`Player de música criado em <#${player.voiceChannelId}>`);

    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) {
      channel.send({ embeds: [embed] });
    }
  });
  ```

```js
  [PLAYER] Criado: {
    guild: "123456789012345678",
    node: "Nó-1",
    voiceChannel: "123456789012345678",
    textChannel: "876543210987654321"
  }
  ```

  #footer
  Inicialize as configurações do player e configure os manipuladores de eventos.
  ::
::
::

#### playerUpdate
::field{name="playerUpdate" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:refresh'
---
  #title
  Atualização de Player

  #description
  Emitido quando um player é atualizado.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player atualizado
    ::
    ::field{name="track" type="Track" required}
    A faixa atualizada
    ::
    ::field{name="payload" type="any" required}
    Os dados do payload
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerUpdate', (player, track, payload) => {
    console.log(`Player atualizado: ${player.guildId}`, payload);
});
```

  ```js
  [PLAYER] Atualizado: {
    guild: "123456789012345678",
    track: {
      title: "Never Gonna Give You Up",
      author: "Rick Astley"
    },
    payload: {
      volume: 1.0,
      loop: false,
      autoplay: true
    }
  }
  ```

#footer
  Lide com atualizações de player e implemente lógica adicional, se necessário.
  ::
::
::

#### playerDestroy
::field{name="playerDestroy" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:trash-2'
---
  #title
  Destruição de Player

  #description
  Emitido quando um player é destruído.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player destruído
    ::
  ::
  ::

::card
---
  icon: 'lucide:code'
---
#title
  Exemplo de Uso

#description
  ```js
  manager.on('playerDestroy', (player) => {
    console.log(`[PLAYER] Destruído:`, {
      guild: player.guildId,
      node: player.node.identifier,
      reason: player.state
    });

    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('👋 Player Destruído')
      .setDescription('O player de música foi destruído');

    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) {
      channel.send({ embeds: [embed] });
    }

    // Limpe quaisquer recursos
    player.queue.clear();
});
```

  ```js
  [PLAYER] Destruído: {
    guild: "123456789012345678",
    node: "Nó-1",
    reason: "disconnected"
  }
  ```

#footer
  Limpe os recursos e notifique os usuários quando um player for destruído.
  ::
::
::

#### playerSwitchedNode
::field{name="playerSwitchedNode" type="event"}
::stack
::card
---
  icon: 'lucide:move'
---
#title
  Player Trocou de Nó

#description
  Emitido quando um player muda para um nó diferente.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que trocou
    ::
    ::field{name="oldNode" type="Node" required}
    O nó anterior
    ::
    ::field{name="newNode" type="Node" required}
    O novo nó
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerSwitchedNode', (player, oldNode, newNode) => {
    console.log(`Player trocou do nó ${oldNode.identifier} para ${newNode.identifier}`);
});
```

  ```js
  [PLAYER] Trocou de nó: {
    guild: "123456789012345678",
    oldNode: "Nó-1",
    newNode: "Nó-2"
  }
  ```

  #footer
  Lide com trocas de nó para manter a continuidade da reprodução.
  ::
::
::

## Eventos de Controle do Player

#### playerTriggeredPlay
::field{name="playerTriggeredPlay" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:play'
---
  #title
  Player Acionou Play

  #description
  Emitido quando um player começa a tocar.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que começou a tocar
    ::
    ::field{name="track" type="Track" required}
    A faixa que começou a tocar
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerTriggeredPlay', (player, track) => {
    console.log(`Player começou a tocar: ${track.title}`);
});
```

  ```js
  [PLAYER] Começou a tocar: {
    guild: "123456789012345678",
    track: {
      title: "Never Gonna Give You Up",
      author: "Rick Astley"
    }
  }
  ```

#footer
  Lide com eventos de início de player e implemente lógica adicional, se necessário.
  ::
::
::

#### playerTriggeredPause
::field{name="playerTriggeredPause" type="event"}
::stack
::card
---
  icon: 'lucide:pause'
---
#title
  Player Acionou Pause

#description
  Emitido quando um player é pausado.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que foi pausado
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerTriggeredPause', (player) => {
    console.log(`Player pausado: ${player.guildId}`);
});
```

```js
  [PLAYER] Pausado: {
    guild: "123456789012345678"
  }
  ```

  #footer
  Lide com eventos de pausa de player e implemente lógica adicional, se necessário.
  ::
::
::

#### playerTriggeredResume
::field{name="playerTriggeredResume" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:play'
---
  #title
  Player Acionou Resume

  #description
  Emitido quando um player retoma a reprodução.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que retomou a reprodução
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerTriggeredResume', (player) => {
    console.log(`Player retomado: ${player.guildId}`);
});
```

  ```js
  [PLAYER] Retomado: {
    guild: "123456789012345678"
  }
  ```

  #footer
  Lide com eventos de retomada de player e implemente lógica adicional, se necessário.
  ::
::
::

#### playerTriggeredStop
::field{name="playerTriggeredStop" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:stop'
---
  #title
  Player Acionou Stop

  #description
  Emitido quando um player para de tocar.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player que parou de tocar
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('playerTriggeredStop', (player) => {
    console.log(`Player parado: ${player.guildId}`);
});
```

  ```js
  [PLAYER] Parado: {
    guild: "123456789012345678"
  }
  ```

#footer
  Lide com erros de WebSocket e implemente estratégias de recuperação.
  ::
::
::

## Eventos de Filtro

#### filterUpdate
::field{name="filterUpdate" type="event"}
::stack
::card
---
  icon: 'lucide:equalizer'
---
#title
  Atualização de Filtro

#description
  Emitido quando os filtros de áudio são atualizados.
  <br>
  <h5>Parâmetros</h5>

  ::field-group
    ::field{name="player" type="Player" required}
    O player cujos filtros foram atualizados
    ::
    ::field{name="filters" type="Filters" required}
    O objeto de filtros atualizado
    ::
  ::
  ::

  ::card
  ---
  icon: 'lucide:code'
---
  #title
  Exemplo de Uso

  #description
```js
  manager.on('filterUpdate', (player, filters) => {
    console.log(`[FILTRO] Atualizado:`, {
      guild: player.guildId,
      filters: {
        volume: filters.volume,
        equalizer: filters.equalizer,
        karaoke: filters.karaoke,
        timescale: filters.timescale,
        tremolo: filters.tremolo,
        vibrato: filters.vibrato,
        rotation: filters.rotation,
        distortion: filters.distortion,
        channelMix: filters.channelMix,
        lowPass: filters.lowPass
      }
    });

    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('🎛️ Filtros Atualizados')
      .setDescription('Os filtros de áudio foram atualizados')
      .addFields(
        Object.entries(filters)
          .filter(([_, value]) => value !== null && value !== undefined)
          .map(([key, value]) => ({
            name: key.charAt(0).toUpperCase() + key.slice(1),
            value: typeof value === 'object' ? 'Aplicado' : String(value),
            inline: true
          }))
      );

    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) {
      channel.send({ embeds: [embed] });
    }
});
```

  ```js
  [FILTRO] Atualizado: {
    guild: "123456789012345678",
    filters: {
      volume: 1.0,
      equalizer: [
        { band: 0, gain: 0.2 },
        { band: 1, gain: 0.15 }
      ],
      karaoke: null,
      timescale: { speed: 1.1, pitch: 1.0, rate: 1.0 },
      tremolo: null,
      vibrato: null,
      rotation: null,
      distortion: null,
      channelMix: null,
      lowPass: null
    }
  }
  ```

#footer
  Monitore e exiba as alterações de filtro de áudio.
  ::
::
::

## Eventos

#### playerTriggeredSkip
::field{name="playerTriggeredSkip" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:skip-forward'
---
  #title
  Player Acionou Skip

  #description
  Emitido quando uma faixa é pulada.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `oldTrack: Record<string, any>` - Faixa anterior
  - `currentTrack: Track` - Nova faixa
  - `position: number` - Posição atual
  
  ```js
  manager.on('playerTriggeredSkip', (player, oldTrack, currentTrack, position) => {
    console.log(`Faixa pulada: ${oldTrack.title} -> ${currentTrack.title} (Posição: ${position})`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('⏭️ Faixa Pulada')
      .setDescription(`Pulou **${oldTrack.title}**\nAgora tocando: **${currentTrack.title}**`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerTriggeredSeek
::field{name="playerTriggeredSeek" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:forward'
---
  #title
  Player Acionou Seek

  #description
  Emitido quando a posição da faixa é alterada.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `position: number` - Nova posição em milissegundos
  
  ```js
  manager.on('playerTriggeredSeek', (player, position) => {
    const timeString = new Date(position).toISOString().substr(11, 8);
    console.log(`Posição alterada para ${timeString}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('⏩ Posição Alterada')
      .setDescription(`Avançou para ${timeString}`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerTriggeredShuffle
::field{name="playerTriggeredShuffle" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:shuffle'
---
  #title
  Player Acionou Shuffle

  #description
  Emitido quando a fila é embaralhada.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `oldQueue: Record<string, any>` - Fila anterior
  - `currentQueue: Track[]` - Nova fila
  
  ```js
  manager.on('playerTriggeredShuffle', (player, oldQueue, currentQueue) => {
    console.log(`Fila embaralhada: ${currentQueue.length} faixas`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('🔀 Fila Embaralhada')
      .setDescription(`${currentQueue.length} faixas na fila`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerChangedVolume
::field{name="playerChangedVolume" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:volume-2'
---
  #title
  Player Mudou Volume

  #description
  Emitido quando o volume é alterado.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `oldVolume: number` - Volume anterior
  - `volume: number` - Novo volume
  
  ```js
  manager.on('playerChangedVolume', (player, oldVolume, volume) => {
    console.log(`Volume alterado: ${oldVolume} -> ${volume}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('🔊 Volume Alterado')
      .setDescription(`Volume: ${volume}%`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerChangedLoop
::field{name="playerChangedLoop" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:repeat'
---
  #title
  Player Mudou Loop

  #description
  Emitido quando o modo de loop é alterado.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `oldLoop: TPlayerLoop` - Modo anterior
  - `loop: TPlayerLoop` - Novo modo
  
  ```js
  manager.on('playerChangedLoop', (player, oldLoop, loop) => {
    console.log(`Loop alterado: ${oldLoop} -> ${loop}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('🔁 Loop Alterado')
      .setDescription(`Modo: ${loop}`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerAutoPlaySet
::field{name="playerAutoPlaySet" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:music'
---
  #title
  Player Auto Play Definido

  #description
  Emitido quando o autoplay é alterado.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `autoPlay: boolean` - Novo estado
  
  ```js
  manager.on('playerAutoPlaySet', (player, autoPlay) => {
    console.log(`Autoplay ${autoPlay ? 'ativado' : 'desativado'}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('🎵 Autoplay')
      .setDescription(`Autoplay ${autoPlay ? 'ativado' : 'desativado'}`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerAutoLeaveSet
::field{name="playerAutoLeaveSet" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:log-out'
---
  #title
  Player Auto Leave Definido

  #description
  Emitido quando o autoleave é alterado.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `autoLeave: boolean` - Novo estado
  
  ```js
  manager.on('playerAutoLeaveSet', (player, autoLeave) => {
    console.log(`Autoleave ${autoLeave ? 'ativado' : 'desativado'}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('👋 Auto Leave')
      .setDescription(`Auto leave ${autoLeave ? 'ativado' : 'desativado'}`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerTextChannelIdSet
::field{name="playerTextChannelIdSet" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:message-square'
---
  #title
  ID do Canal de Texto do Player Definido

  #description
  Emitido quando o canal de texto é alterado.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `oldChannel: string` - Canal anterior
  - `newChannel: string` - Novo canal
  
  ```js
  manager.on('playerTextChannelIdSet', (player, oldChannel, newChannel) => {
    console.log(`Canal de texto alterado: ${oldChannel} -> ${newChannel}`);
  });
  ```
  ::
::

#### playerVoiceChannelIdSet
::field{name="playerVoiceChannelIdSet" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:mic'
---
  #title
  ID do Canal de Voz do Player Definido

  #description
  Emitido quando o canal de voz é alterado.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `oldChannel: string` - Canal anterior
  - `newChannel: string` - Novo canal
  
  ```js
  manager.on('playerVoiceChannelIdSet', (player, oldChannel, newChannel) => {
    console.log(`Canal de voz alterado: ${oldChannel} -> ${newChannel}`);
  });
  ```
  ::
::

#### playerNodeSet
::field{name="playerNodeSet" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:server'
---
  #title
  Nó do Player Definido

  #description
  Emitido quando o nó do player é alterado.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `oldNode: string` - Nó anterior
  - `newNode: string` - Novo nó
  
  ```js
  manager.on('playerNodeSet', (player, oldNode, newNode) => {
    console.log(`Nó alterado: ${oldNode} -> ${newNode}`);
  });
  ```
  ::
::

#### playerConnected
::field{name="playerConnected" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:plug'
---
  #title
  Player Conectado

  #description
  Emitido quando um player se conecta.
  
  **Parâmetros:**
  - `player: Player` - O player conectado
  
  ```js
  manager.on('playerConnected', (player) => {
    console.log(`Player conectado em ${player.guildId}`);
    
    const embed = new EmbedBuilder()
      .setColor('#4ade80')
      .setTitle('🔌 Conectado')
      .setDescription(`Conectado ao canal de voz`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerDisconnected
::field{name="playerDisconnected" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:plug-off'
---
  #title
  Player Desconectado

  #description
  Emitido quando um player se desconecta.
  
  **Parâmetros:**
  - `player: Player` - O player desconectado
  
  ```js
  manager.on('playerDisconnected', (player) => {
    console.log(`Player desconectado em ${player.guildId}`);
    
    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('🔌 Desconectado')
      .setDescription(`Desconectado do canal de voz`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerMoved
::field{name="playerMoved" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:move'
---
  #title
  Player Movido

  #description
  Emitido quando um player muda de canal.
  
  **Parâmetros:**
  - `player: Player` - O player movido
  - `oldChannel: string` - Canal anterior
  - `newChannel: string` - Novo canal
  
  ```js
  manager.on('playerMoved', (player, oldChannel, newChannel) => {
    console.log(`Player movido: ${oldChannel} -> ${newChannel}`);
    
    const embed = new EmbedBuilder()
      .setColor('#fbbf24')
      .setTitle('↔️ Canal Alterado')
      .setDescription(`Movido para <#${newChannel}>`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### playerDestroyed
::field{name="playerDestroyed" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:trash-2'
---
  #title
  Player Destruído

  #description
  Emitido quando um player é destruído.
  
  **Parâmetros:**
  - `player: Player` - O player destruído
  
  ```js
  manager.on('playerDestroyed', (player) => {
    console.log(`Player destruído em ${player.guildId}`);
    
    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('💥 Player Destruído')
      .setDescription(`O player foi destruído`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### trackStart
::field{name="trackStart" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:music'
---
  #title
  Início da Faixa

  #description
  Emitido quando uma faixa começa a tocar.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `track: Track` - A faixa iniciada
  
  ```js
  manager.on('trackStart', (player, track) => {
    console.log(`Tocando: ${track.title}`);
    
    const embed = new EmbedBuilder()
      .setColor('#4ade80')
      .setTitle('🎵 Tocando Agora')
      .setDescription(`**${track.title}**`)
      .addFields(
        { name: 'Artista', value: track.author, inline: true },
        { name: 'Duração', value: formatTime(track.duration), inline: true }
      )
      .setThumbnail(track.artworkUrl);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### trackEnd
::field{name="trackEnd" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:music-off'
---
  #title
  Fim da Faixa

  #description
  Emitido quando uma faixa termina.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `track: Track` - A faixa finalizada
  - `type: TTrackEndType` - Tipo de finalização
  - `payload?: any` - Dados adicionais
  
  ```js
  manager.on('trackEnd', (player, track, type, payload) => {
    console.log(`Faixa finalizada: ${track.title} (${type})`);
    
    const embed = new EmbedBuilder()
      .setColor('#94a3b8')
      .setTitle('🎵 Faixa Finalizada')
      .setDescription(`**${track.title}** terminou`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### trackStuck
::field{name="trackStuck" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:alert-triangle'
---
  #title
  Faixa Travada

  #description
  Emitido quando uma faixa trava.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `track: Track` - A faixa travada
  - `threshold: number` - Limite de tempo
  
  ```js
  manager.on('trackStuck', (player, track, threshold) => {
    console.log(`Faixa travou: ${track.title} (${threshold}ms)`);
    
    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('⚠️ Faixa Travada')
      .setDescription(`**${track.title}** travou\nTempo limite: ${threshold}ms`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### trackException
::field{name="trackException" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:alert-octagon'
---
  #title
  Exceção na Faixa

  #description
  Emitido quando ocorre um erro na faixa.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `track: Track` - A faixa com erro
  - `exception: any` - O erro ocorrido
  
  ```js
  manager.on('trackException', (player, track, exception) => {
    console.log(`Erro na faixa ${track.title}:`, exception);
    
    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('❌ Erro na Faixa')
      .setDescription(`Erro ao tocar **${track.title}**\n\
\
${exception.message}
\
\
````);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### queueEnd
::field{name="queueEnd" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:list-end'
---
  #title
  Fim da Fila

  #description
  Emitido quando a fila termina.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `track?: any` - Última faixa tocada
  
  ```js
  manager.on('queueEnd', (player, track) => {
    console.log(`Fila finalizada em ${player.guildId}`);
    
    const embed = new EmbedBuilder()
      .setColor('#94a3b8')
      .setTitle('🎵 Fila Finalizada')
      .setDescription('Todas as faixas foram tocadas');
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

#### socketClosed
::field{name="socketClosed" type="event"}
::stack
  ::card
  ---
  icon: 'lucide:wifi-off'
---
  #title
  Socket Fechado

  #description
  Emitido quando o socket é fechado.
  
  **Parâmetros:**
  - `player: Player` - O player
  - `code: number` - Código de fechamento
  - `reason: string` - Motivo do fechamento
  - `byRemote: boolean` - Se foi fechado remotamente
  
  ```js
  manager.on('socketClosed', (player, code, reason, byRemote) => {
    console.log(`Socket fechado: ${reason} (${code})`);
    
    const embed = new EmbedBuilder()
      .setColor('#ef4444')
      .setTitle('🔌 Conexão Fechada')
      .setDescription(`Conexão fechada: ${reason}\nCódigo: ${code}`);
    
    const channel = client.channels.cache.get(player.textChannelId);
    if (channel) channel.send({ embeds: [embed] });
  });
  ```
  ::
::

::button-link{right-icon="lucide:arrow-right" to="/api/errors"}
  Continuar para Erros
::
